"use strict";(self.webpackChunkapp_cc=self.webpackChunkapp_cc||[]).push([[280],{2967:(e,s,l)=>{l.d(s,{Z:()=>r,h:()=>i});var n=l(4569),a=l.n(n);const t="https://appcc-api.apps.ham.org.br",o=a().create({baseURL:`${t}`,headers:{"Content-Type":"application/json"}}),i=a().create({baseURL:`${t}`,headers:{"Content-Type":"application/json"}}),r=o},9757:(e,s,l)=>{l.d(s,{Z:()=>a});l(2791);var n=l(184);const a=e=>{let{titulo:s,children:l,localidade:a}=e;return(0,n.jsxs)("header",{children:[(0,n.jsxs)("p",{children:[(0,n.jsxs)("strong",{children:[s," |"]})," ",a]}),(0,n.jsx)("div",{className:"options",children:l})]})}},9775:(e,s,l)=>{l.d(s,{ZP:()=>j,Z_:()=>u,hP:()=>x,h_:()=>h});var n=l(2791),a=l(3229),t=l(2835),o=l(1828),i=l(1694),r=l.n(i),d=l(1245),c=l(6457),p=l(184);const u=e=>{let{children:s,isOpen:l,setIsOpen:t,hasIcon:o}=e;const i=(0,n.useRef)(null),d=(0,n.useCallback)(((e,s)=>(i.current=e,s(e))),[]);return(0,p.jsx)(a.s,{children:e=>{var a;let{ref:i}=e;return n.cloneElement(s.props.isButtonGroup?(0,p.jsx)("span",{className:"visually-hidden",children:"Toggle Dropdown"}):s,{ref:e=>d(e,i),onClick:()=>{var e;null!==s&&void 0!==s&&null!==(e=s.props)&&void 0!==e&&e.onClick&&s.props.onClick(),t(!l)},className:r()({"dropdown-toggle":o,"dropdown-toggle-split":s.props.isButtonGroup,show:l},null===s||void 0===s||null===(a=s.props)||void 0===a?void 0:a.className),"aria-expanded":l})}})};u.defaultProps={isOpen:!1,setIsOpen:null,hasIcon:!0},u.displayName="DropdownToggle";const h=e=>{let{isOpen:s,setIsOpen:l,children:a,className:o,isAlignmentEnd:i,breakpoint:d,size:u,direction:h,isCloseAfterLeave:m,...x}=e;const v=(0,n.useRef)(null),j=(0,n.useCallback)(((e,s)=>(v.current=e,s(e))),[]),O=("up"===h?"top":"end"===h&&"right")||"start"===h&&"left"||"bottom",C=i?"end":"start",{darkModeStatus:N}=(0,c.Z)();return s?(0,p.jsx)(t.r,{placement:d?"bottom-start":`${O}-${C}`,modifiers:[{name:"flip",options:{fallbackPlacements:[`top-${C}`,`bottom-${C}`]}}],children:e=>{let{ref:s,style:n,placement:t}=e;return(0,p.jsx)("ul",{role:"presentation",ref:e=>j(e,s),style:d?null:n,"data-placement":t,className:r()("dropdown-menu","show",{"dropdown-menu-dark":N},{[`dropdown-menu-${u}`]:u,"dropdown-menu-end":!i&&d,[`dropdown-menu${d?`-${d}`:""}-${i?"end":"start"}`]:i||d},o),"data-bs-popper":d?"static":null,onMouseLeave:m?()=>l(!1):null,...x,children:a})}}):null};h.defaultProps={isOpen:!1,setIsOpen:null,className:null,isAlignmentEnd:!1,breakpoint:null,size:null,direction:null,isCloseAfterLeave:!0},h.displayName="DropdownMenu";const m=(0,n.forwardRef)(((e,s)=>{let{children:l,className:n,...a}=e;return(0,p.jsx)("li",{ref:s,className:r()("dropdown-item-wrapper",n),...a,children:l})}));m.defaultProps={className:null};const x=(0,n.forwardRef)(((e,s)=>{var l;let{children:a,isHeader:t,isDivider:o,isText:i,...d}=e;var c,u,h;return t?(0,p.jsx)(m,{ref:s,...d,children:(0,n.cloneElement)("string"===typeof a?(0,p.jsx)("h6",{children:a}):a,{className:r()("dropdown-header",null===a||void 0===a||null===(c=a.props)||void 0===c?void 0:c.className)})}):o?(0,p.jsx)(m,{ref:s,...d,children:(0,p.jsx)("hr",{className:r()("dropdown-divider",null===a||void 0===a||null===(u=a.props)||void 0===u?void 0:u.className)})}):i?(0,p.jsx)(m,{ref:s,...d,children:(0,n.cloneElement)("string"===typeof a?(0,p.jsx)("div",{children:a}):a,{className:r()("dropdown-item-text","dropdown-item","disabled",null===a||void 0===a||null===(h=a.props)||void 0===h?void 0:h.className)})}):(0,p.jsx)(m,{ref:s,...d,children:(0,n.cloneElement)("string"===typeof a?(0,p.jsx)("span",{children:a}):a,{className:r()("dropdown-item",null===a||void 0===a||null===(l=a.props)||void 0===l?void 0:l.className)})})}));x.defaultProps={children:null,isHeader:!1,isDivider:!1,isText:!1};const v=e=>{let{tag:s,children:l,isOpen:a,setIsOpen:t,direction:i,isButtonGroup:c,className:u}=e;const[h,m]=(0,n.useState)(!(null===a||!t)&&a),x=(0,n.useRef)(null),v=(0,n.useCallback)((()=>{null!==a&&t?t(!1):m(!1)}),[a,t]);return(0,d.Z)(x,"mousedown",v),(0,d.Z)(x,"touchstart",v),(0,p.jsx)(o.dK,{children:(0,p.jsx)(s,{ref:x,className:r()({[`drop${i}`]:i&&!c,"btn-group":c},u),children:l.map(((e,s)=>["DropdownMenu","DropdownToggle"].includes(e.type.displayName)?n.cloneElement(e,{isOpen:null!==a&&t?a:h,setIsOpen:null!==a&&t?t:m,direction:i,key:s}):e))})})};v.defaultProps={tag:"div",isOpen:null,setIsOpen:null,className:null,direction:"down",isButtonGroup:!1},v.displayName="Dropdown";const j=v},5280:(e,s,l)=>{l.r(s),l.d(s,{default:()=>m});var n=l(2791),a=l(6871),t=l(3313),o=l(2967),i=l(1006),r=l(840),d=l(5409),c=l(1649),p=l(9757),u=l(9775),h=l(184);const m=()=>{const e=(0,a.s0)(),[s,l]=(0,n.useState)([]),[m,x]=(0,n.useState)(!0),[v,j]=(0,n.useState)(!0),[O,C]=(0,n.useState)(!1),[N,f]=(0,n.useState)(!1),[g,A]=(0,n.useState)(!1),I=(0,a.TH)();(0,n.useEffect)((()=>{w(2,I.state.CODIGO_LOCALIDADE)}),[I]);const D=e=>{"todos"===e&&(l([]),w(1,I.state.CODIGO_LOCALIDADE),f(!0),j(!1)),"aptos"===e&&(l([]),w(2,I.state.CODIGO_LOCALIDADE),A(!0))},w=async(e,s)=>{if(1===e){try{x(!0);const e=await o.Z.get(`retornaCirurgiasAgendadasByLocalidade?cd_localidade=${s}`),n=JSON.stringify(e.data);l((e=>[...e,JSON.parse(n)])),f(!1),j(!1),C(!0)}catch(n){console.log(n)}x(!1)}else if(2===e){try{x(!0);const e=await o.Z.get(`/retornaCirurgiasAgendadasByLocalidade?cd_localidade=${s}&status=apto`),n=JSON.stringify(e.data);l((e=>[...e,JSON.parse(n)])),j(!0),C(!1),A(!1)}catch(n){console.log(n)}x(!1)}},_=async s=>{try{const l=JSON.parse(localStorage.getItem("CAPP-local")),n=await o.Z.get(`/retornaProximaEtapa?cd_localidade=${l.CODIGO_LOCALIDADE}&cod_aviso=${s.COD_AVISO}`);n&&e("/portaria/recebimento",{state:{ID:1,NOME_PACIENTE:s.PACIENTE,MEDICO:s.NM_PRESTADOR,PROCEDIMENTO:s.CIRURGIA,HORARIO:s.PREVISAO_INICIO,CD_ETAPA:s.CD_ETAPA,COD_AVISO:s.COD_AVISO,CD_SAL_CIR:s.CD_SAL_CIR,PROX_ETAPA:n.data[0].PROX_ETAPA}})}catch(l){console.log(l)}};return(0,h.jsxs)(i.Z,{title:c.Q.localChoice.text,children:[(0,h.jsx)(p.Z,{titulo:"Porta CC",localidade:"Lista de Pacientes",children:(0,h.jsxs)(u.ZP,{children:[(0,h.jsx)(u.Z_,{children:(0,h.jsx)(d.Z,{color:"light",icon:"menu",isLight:!0,children:(0,h.jsx)("p",{children:" "})})}),(0,h.jsx)(u.h_,{children:(0,h.jsx)(u.hP,{onClick:()=>(localStorage.removeItem("CAPP-local"),void e("/")),children:"Alterar Local"})})]})}),(0,h.jsxs)(r.Z,{children:[(0,h.jsxs)("div",{className:"position-filter",children:[(0,h.jsx)(d.Z,{size:"lg",disabled:N,color:"info",isActive:v,isLight:!0,onClick:()=>D("aptos"),children:"Aptos"}),(0,h.jsx)(d.Z,{size:"lg",disabled:g,style:{margin:"3px"},color:"info",isActive:O,isLight:!0,onClick:()=>D("todos"),children:"Todos"})]}),(0,h.jsx)("br",{}),(0,h.jsx)("div",{children:m?(0,h.jsxs)("div",{className:"lds-ring",children:[(0,h.jsx)("div",{}),(0,h.jsx)("div",{}),(0,h.jsx)("div",{}),(0,h.jsx)("div",{})]}):s[0].length?s[0].map((e=>(0,h.jsxs)("div",{className:"bloco-paciente",onClick:()=>_(e),onKeyDown:()=>_(e),children:[(0,h.jsx)("div",{className:"fw-bold",children:e.PACIENTE}),(0,h.jsx)("div",{className:"text-muted",children:(0,h.jsx)("small",{children:e.NM_MAE})}),(0,h.jsx)("div",{className:"data_nasc",children:e.DT_NASCIMENTO})]},e.CD_AVISO))):(0,h.jsxs)("div",{className:"d-flex justify-content-center",children:[(0,h.jsx)("br",{}),(0,h.jsx)("br",{}),(0,h.jsxs)("h1",{className:"mensagem-vazio",children:[(0,h.jsx)(t.bcx,{})," N\xe3o h\xe1 paciente"]})]})})]})]})}}}]);
//# sourceMappingURL=280.0b069ad5.chunk.js.map