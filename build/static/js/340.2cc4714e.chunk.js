"use strict";(self.webpackChunkapp_cc=self.webpackChunkapp_cc||[]).push([[340],{2208:(e,a,o)=>{o.d(a,{ZP:()=>c});var r=o(2791),t=o(1694),i=o.n(t),s=(o(3504),o(7097),o(4455)),n=o(184);const l=e=>{let{children:a,className:o,color:t,isDismissible:l,isOutline:c,isLight:A,shadow:d,icon:_,rounded:I,borderWidth:C,...u}=e;const[m,h]=(0,r.useState)(!0);return m?(0,n.jsxs)("div",{className:i()("alert",{[`alert-${t}`]:t&&!(A||c),"alert-dismissible":l,fade:l,show:l,[`alert-light-${t}`]:A,[`alert-outline-${t}`]:c,["shadow"+("md"!==d?`-${d}`:"")]:!!d&&"3d"!==d,[`border-${C}`]:C||0===C,["rounded"+("default"!==I?`-${I}`:"")]:I||0===I,[`shadow-3d-${t}`]:"3d"===d},o),...u,role:"alert",children:[_?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"alert-icon",children:(0,n.jsx)(s.Z,{icon:_})}),(0,n.jsx)("div",{className:"alert-text",children:a})]}):a,l&&(0,n.jsx)("button",{type:"button",className:"btn-close","aria-label":"Close",onClick:()=>h(!1)})]}):null};l.defaultProps={borderWidth:null,className:null,color:"primary",icon:null,isDismissible:!1,isLight:!1,isOutline:!1,shadow:null,rounded:null};const c=l},2743:(e,a,o)=>{o.r(a),o.d(a,{default:()=>j});var r=o(2791),t=o(6871),i=o(5801),s=o(2426),n=o.n(s),l=o(3278),c=o(1006),A=o(840),d=o(1649),_=o(5409),I=o(9757),C=o(4455),u=o(1477),m=o(1595),h=o(9775),O=o(2208),E=o(184);const x=e=>{let{width:a,height:o}=e;return(0,E.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:a||30,height:o||30,fill:"none",viewBox:"0 0 48 48",children:[(0,E.jsx)("path",{fill:"url(#pattern0)",d:"M0 0H48V48H0z"}),(0,E.jsxs)("defs",{children:[(0,E.jsx)("pattern",{id:"pattern0",width:"1",height:"1",patternContentUnits:"objectBoundingBox",children:(0,E.jsx)("use",{transform:"scale(.02083)",xlinkHref:"#image0_2068_44"})}),(0,E.jsx)("image",{id:"image0_2068_44",width:"48",height:"48",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAA1hJREFUaEPtmfGRTzEQx/cqQAWoAB1QASpABajAqQAVoIKjAlTAdXAdoALmc5P8Zl9mk91N3jE35J/7zby8fd9PdrO7yR3JJR9Hl1y//JMAt4vXvu3svasickNEUnYzHsD4iYhogIcicrYIgvBXIvK42MHeExH5HLEbBUD0JxHhY3r8EJF72VVrbGD3riEWiHceRATAEv9TRK4U4ysQb9XKW1pdCA/AEo9R4hQXr0B44ivQEGIE0BNf3crzWYioeBeiB+CJr4ZnILLihxAWANnma7NhR27MQMyKrxAkjE12sgDarOBupJJavXBaFQ8EKfam3u0WwC81ISI+Ek57iK/fuaPTtgUA5fUyOwPAK1Y44ZkHXj5PPL8mIqTu82EBUBFZMTcDdD7aQiS0uVPfiMgzL4R4Tqp8tABBZWUv7Tk+Wp4c1YFZCNoNxNeeaQ+I09JuHEJnFEL6g1mIPyq+twfaFYtCtOLpl4hXVu1YRG5NuKK78lEP1HkehLXytNofigGef08CuOKjHvAgemHTVk1dXzyWkPgsgJWdnpdsZW1YVp86Qgi9KGHkCed5WPwMgAVRRRHzpE9abf4CQLsNAF4C9nX5TXGz9kRK/CxAD6ItMgDcL3TA6dMclZnjqR5p8bMAvZh/35yu6Gh1aOkWoK32aJk62XknsjZmvTxP2qwhROpkVemtamUmhGjXayi19tMQGQBPfCvmpdq4vdYCQKDrfkl7IgqQFY8QL43qmM8cijYLFQGYEc9HatbhNwLZE3V8KY2Z7m2mIDyAWfG6+CGSTVuzULvZ9YqmIUYAq+KtojUSX+enIHoAf0t8GqIH0ObwSAvgzaEhpLWIDssTnIc3d7EWADn6afQryXmrENQYIA7DAqDtbS9xkzoP00mViOb2WW/sFU9wrXLwggVA1qh3nrPCeU/n+bZ1yHiifde9VtkjhKzGbAaifQe7m9a9t4nbE1jGE6OuMgNhiacl2RzsM7cSEYhISxyBCIlHkFeJM56IiK+LMIIIi48AMCcCkRE/gqBH0reCrl3PAzr16Zs6HU7uRwaxZx1s6vSQ3ShAzxOR3sbbOxZESHw0hLQAUmz9dyihtblo9ZQ6nuAEx614WPwMwILGi3k1E0IXo2DR6n+AxQVcfv03hroHQGpS3/IAAAAASUVORK5CYII="})]})]})},S=e=>{let{width:a,height:o}=e;return(0,E.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:a||30,height:o||30,fill:"none",viewBox:"0 0 32 32",children:(0,E.jsx)("path",{fill:"#000",d:"M16 15c-2.2 0-4-.7-5.4-2.1-1.4-1.4-2.1-3.2-2.1-5.4s.7-4 2.1-5.4C12 .7 13.8 0 16 0s4 .7 5.4 2.1c1.4 1.4 2.1 3.2 2.1 5.4s-.7 4-2.1 5.4C20 14.3 18.2 15 16 15zM0 31.05v-4.7c0-1.267.317-2.35.95-3.25a6.1 6.1 0 012.45-2.05c2.233-1 4.375-1.75 6.425-2.25s4.108-.75 6.175-.75 4.117.258 6.15.775c2.033.517 4.167 1.258 6.4 2.225a6.029 6.029 0 012.5 2.05c.633.9.95 1.983.95 3.25v4.7H0zm3-3h26v-1.7c0-.533-.158-1.042-.475-1.525-.317-.483-.708-.842-1.175-1.075-2.133-1.033-4.083-1.742-5.85-2.125a25.871 25.871 0 00-5.5-.575c-1.9 0-3.75.192-5.55.575-1.8.383-3.75 1.092-5.85 2.125a2.84 2.84 0 00-1.15 1.075c-.3.483-.45.992-.45 1.525v1.7zM16 12c1.3 0 2.375-.425 3.225-1.275.85-.85 1.275-1.925 1.275-3.225s-.425-2.375-1.275-3.225C18.375 3.425 17.3 3 16 3s-2.375.425-3.225 1.275C11.925 5.125 11.5 6.2 11.5 7.5s.425 2.375 1.275 3.225C13.625 11.575 14.7 12 16 12z"})})},p=e=>{let{width:a,height:o}=e;return(0,E.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:a||30,height:o||30,fill:"none",viewBox:"0 0 40 40",children:(0,E.jsx)("path",{fill:"#000",d:"M27.35 29.65l2.25-2.25-7.95-8V9.35h-3V20.6l8.7 9.05zM20 40c-2.733 0-5.317-.525-7.75-1.575-2.433-1.05-4.558-2.483-6.375-4.3-1.817-1.817-3.25-3.942-4.3-6.375C.525 25.317 0 22.733 0 20c0-2.733.525-5.317 1.575-7.75 1.05-2.433 2.483-4.558 4.3-6.375 1.817-1.817 3.942-3.25 6.375-4.3C14.683.525 17.267 0 20 0c2.733 0 5.317.525 7.75 1.575 2.433 1.05 4.558 2.483 6.375 4.3 1.817 1.817 3.25 3.942 4.3 6.375C39.475 14.683 40 17.267 40 20c0 2.733-.525 5.317-1.575 7.75-1.05 2.433-2.483 4.558-4.3 6.375-1.817 1.817-3.942 3.25-6.375 4.3C25.317 39.475 22.733 40 20 40zm0-3c4.667 0 8.667-1.667 12-5s5-7.333 5-12-1.667-8.667-5-12-7.333-5-12-5-8.667 1.667-12 5-5 7.333-5 12 1.667 8.667 5 12 7.333 5 12 5z"})})};var g=o(2967),f=o(9395),R=o(5071),T=o(9476);const j=()=>{const e=(0,t.TH)(),[a,o]=(0,r.useState)(null),[s,j]=(0,r.useState)(!1),P=e=>n()(e).format("YYYY-MM-DDTHH:mm:ss"),D=(0,t.s0)(),[v,N]=(0,r.useState)([]),[b,U]=(0,r.useState)(!1),[w,y]=(0,r.useState)(null),[L,G]=(0,r.useState)(!1),[Z,B]=(0,r.useState)(!1),[Q,k]=(0,r.useState)([]),[M,z]=(0,r.useState)(!1),[F,V]=(0,r.useState)(!1),[H,X]=(0,r.useState)(!1),[J,W]=(0,r.useState)({COR:"",MSG:"",TITULO:""}),[Y,q]=(0,r.useState)([]),[K,$]=(0,r.useState)([]),[ee,ae]=(0,r.useState)(""),[oe,re]=(0,r.useState)({COR:"",MSG:"",TITULO:""}),[te,ie]=(0,r.useState)({CODIGO:null,OPCAO:null}),[se,ne]=(0,r.useState)(!1),[le,ce]=(0,r.useState)(!1),[Ae,de]=(0,r.useState)(!1),[_e,Ie]=(0,r.useState)([]),[Ce,ue]=(0,r.useState)(!1),[me,he]=(0,r.useState)(!1),[Oe,Ee]=(0,r.useState)(""),[xe,Se]=(0,r.useState)(!1),pe=JSON.parse(localStorage.getItem("responsavel_recebimento")),ge=JSON.parse(localStorage.getItem("CAPP-local"));async function fe(){const e=JSON.parse(localStorage.getItem("CAPP-local")),a=(await g.Z.get(`/retornaPacienteQuadroAcoes/${e.CODIGO_SALA_CIRURGICA}`)).data;if(a){const e=(await g.Z.get(`retornaAssinanteAcoes/${a[0].COD_AVISO}`)).data[0].CD_USUARIO_OPERACAO;e?(localStorage.removeItem("responsavel_recebimento"),localStorage.setItem("responsavel_recebimento",JSON.stringify({USUARIO:e}))):(localStorage.removeItem("responsavel_recebimento"),localStorage.setItem("responsavel_recebimento",JSON.stringify({USUARIO:"PENDENTE"})))}}const Re=async()=>{const e=JSON.parse(localStorage.getItem("CAPP-local")),a=(await g.Z.get(`/retornaPacienteQuadroAcoes/${e.CODIGO_SALA_CIRURGICA}`)).data;if(a.length>0){q([]),q(a);const e=await g.Z.get(`/retornaEtapasAcoes/${a[0].COD_AVISO}`);await fe(),be(a[0].COD_AVISO);const o=e.data;null!==o[5].DT_ETAPA&&(o[5].ETAPA_ATUAL="Encaminhar"),$([]),$(o)}else D("/salaCirurgica/recebimento")},Te=async(e,a)=>{const o=JSON.parse(localStorage.getItem("CAPP-local")),r=JSON.parse(localStorage.getItem("responsavel_recebimento"));if(!r)return alert("N\xc3O H\xc1 UM USU\xc1RIO RESPONS\xc1VEL SALVO EM STORAGE"),!1;const t={avisoCirurgia:Y[0].COD_AVISO,dtEtapa:a,cdEtapa:e,usuario:r.USUARIO,salaCirurgia:o.CODIGO_SALA_CIRURGICA,tipoAcao:"I",sublocalidade:o.CODIGO_SUBLOCALIDADE};if(!await g.Z.post("/avancarEtapasCirurgia",t))return!1;await Re();return new Audio("http://10.51.19.98:3190/media/notificacao.mp3").play(),!0};async function je(e,a,o){let r;try{const t={cdAviso:e,cdEtapaAcao:a,data:o};r=(await g.Z.post("/validaDataEtapa",t)).data}catch(t){console.log(t)}return r}const[Pe,De]=(0,r.useState)(""),ve=async e=>{if(110===e&&(Y[0].PROX_ETAPA===e||110===Y[0].CD_ETAPA)){const e=K.filter((e=>null===e.DT_ETAPA&&e.ETAPA_ACAO<110));return e.length>0?(de(!0),Ie(e),!1):(B(!0),!1)}if(null!==K.filter((a=>a.ETAPA_ACAO===e))[0].DT_ETAPA)return!1;if("PENDENTE"===we.USUARIO)return ce(!0),!1;const a=await je(Y[0].COD_AVISO,e,new Date);return"S"!==a[0].RETORNO?(he(!0),Ee(a[0].RETORNO),!1):(await Te(e,ee.length>0?new Date(ee):new Date),await Re(),ae(""),!0)};async function Ne(e,a){if(console.log("USU\xc1RIO EST\xc1 INFORMANDO UMA DATA RETROATIVA OU ALTERANDO PELO INPUT DATATIME."),"PENDENTE"===we.USUARIO)return ce(!0),!1;const o=await je(Y[0].COD_AVISO,e,new Date(a));if("S"!==o[0].RETORNO)return he(!0),document.getElementById(e).value="",Ee(o[0].RETORNO),!1;const r=K.filter((a=>a.ETAPA_ACAO===e));return console.log(r[0]),null!==r[0].DT_ETAPA?(console.log((t="DT_ETAPA",K.reduce((function(e,a){return e[t]>a[t]?e:a})))),await(async(e,a)=>{const o=JSON.parse(localStorage.getItem("CAPP-local")),r=JSON.parse(localStorage.getItem("responsavel_recebimento"));if(!r)return alert("N\xc3O H\xc1 UM USU\xc1RIO RESPONS\xc1VEL SALVO EM STORAGE"),!1;const t={avisoCirurgia:Y[0].COD_AVISO,dtEtapa:a,cdEtapa:e,usuario:r.USUARIO,salaCirurgia:o.CODIGO_SALA_CIRURGICA,tipoAcao:"U",sublocalidade:o.CODIGO_SUBLOCALIDADE};return!!await g.Z.post("/avancarEtapasCirurgia",t)&&(await Re(),!0)})(e,a),!0):(await Te(e,a.length>1?new Date(a):new Date),ae(""),!0);var t}const be=async e=>{try{const a=await g.Z.get(`/retornaMaiorMenorHorarioEtapas/${e}`);De(a.data)}catch(a){console.log(a)}},Ue=JSON.parse(localStorage.getItem("CAPP-local")),we=JSON.parse(localStorage.getItem("responsavel_recebimento")),ye=`Sala ${"Hemodinamica"===Ue.SUBLOCALIDADE?Ue.SUBLOCALIDADE:Ue.SUBLOCALIDADE.split(" ")[1]}`,Le=new Set(["RETORNE O PACIENTE DE ETAPA","DESFA\xc7A ETAPA DO PACIENTE","RETORNAR ETAPA","LIMPE O HOR\xc1RIO DA ETAPA ATUAL"]),Ge=new Set(["INICIAR ANESTESIA","INICIE ANESTESIA","INICIE A ANESTESIA","REGISTRE A ANESTESIA","INICIA A ANESTESIA"]),Ze=new Set(["INICIAR PREPARO","INICIE PREPARO","INICIE O PREPARO","REGISTRE O PREPARO","INICIA O PREPARO"]),Be=new Set(["INICIAR CIRURGIA","INICIE CIRURGIA","INICIE A CIRURGIA","REGISTRE A CIRURGIA","INICIAR A CIRURGIA"]),Qe=new Set(["FINALIZAR CIRURGIA","FINALIZE CIRURGIA","FINALIZE A CIRURGIA","REGISTRE O FIM DA CIRURGIA","FIM DA CIRURGIA"]),ke=new Set(["FINALIZAR ANESTESIA","FINALIZE ANESTESIA","FINALIZE A ANESTESIA","REGISTRE O FIM DA ANESTESIA","FIM DA ANESTESIA"]),Me=new Set(["SA\xcdDA DE SALA","INFORMAR SA\xcdDA DE SALA"]),ze=new Set(["ENCAMINHAR AO RPA","TRANSFERIR AO RPA"]),Fe=[{command:"Eva *",callback:async e=>{console.log(`Comando que est\xe1 sendo recebido ao ouvir Eva: ${e}`);const a=e.toUpperCase();Le.has(a)&&(await(async(e,a)=>{const o=JSON.parse(localStorage.getItem("CAPP-local")),r=JSON.parse(localStorage.getItem("responsavel_recebimento"));if(!r)return alert("N\xc3O H\xc1 UM USU\xc1RIO RESPONS\xc1VEL SALVO EM STORAGE"),!1;const t={avisoCirurgia:Y[0].COD_AVISO,dtEtapa:a,cdEtapa:e,usuario:r.USUARIO,salaCirurgia:o.CODIGO_SALA_CIRURGICA,tipoAcao:"D",sublocalidade:o.CODIGO_SUBLOCALIDADE};return!!await g.Z.post("/avancarEtapasCirurgia",t)&&(D("/salaCirurgica/preparoLimpeza"),!0)})(Y[0].CD_ETAPA,new Date),await Re(),Xe()),Ge.has(a)&&(await ve(65),await Re(),Xe()),Ze.has(a)&&(await ve(70),await Re(),Xe()),Be.has(a)&&(await ve(80),await Re(),Xe()),Qe.has(a)&&(await ve(90),await Re(),Xe()),ke.has(a)&&(await ve(100),await Re(),Xe()),Me.has(a)&&(await ve(110),await Re(),Xe()),ze.has(a)&&(alert("PACIENTE SER\xc1 ENCAMINHADO PARA O RPA"),Xe())}},{command:"Encaminhar para *",callback:async e=>{console.log(`Comando que est\xe1 sendo recebido ao ouvir Eva: ${e}`);const a=e.toUpperCase();Q.map((e=>{if(a===e.ETAPA.toUpperCase())return alert(`Voc\xea estar\xe1 enviando o paciente para o c\xf3digo ${e.CODIGO_MV}`)}))}}],{transcript:Ve,listening:He,resetTranscript:Xe}=(0,i.x6)({commands:Fe}),[Je,We]=(0,r.useState)(Date.now());(0,r.useEffect)((()=>{const e=(0,l.ZP)("ws://10.51.19.98:3190",{transports:["websocket"]});e.on(`${Ue.CODIGO_SALA_CIRURGICA}`,(e=>{console.log(e),Re()})),Re(),(async()=>{try{const e=await g.Z.get("/retornaMotivosSaidaSala");k(e.data)}catch(e){console.log(e)}})();const a=setInterval((()=>{We(Date.now())}),6e4),o=setInterval((async()=>{await fe()}),6e4);return()=>{clearInterval(a),clearInterval(o),i.ZP.stopListening(),e.off("2")}}),[Je,e]);return(0,E.jsxs)(c.Z,{title:d.Q.SALA_CIRURGICA_ACOES.text,children:[(0,E.jsxs)(I.Z,{titulo:ye,localidade:"Etapa e A\xe7\xf5es",children:[(0,E.jsx)("div",{style:{position:"absolute",marginLeft:"-240px"},children:(0,E.jsx)("p",{children:we?(0,E.jsx)("strong",{onClick:()=>{V(!0),W({COR:"#F8C961",MSG:"PENDENTE"===we.USUARIO?"Voc\xea confirma a inclus\xe3o do usu\xe1rio respons\xe1vel?":"Voc\xea deseja realmente alterar o usu\xe1rio respons\xe1vel?",TITULO:"CONFIRMA\xc7\xc3O"})},children:"PENDENTE"===we.USUARIO?(0,E.jsx)("div",{style:{fontSize:"1.3rem",position:"relative",left:"-71px",width:"400px"},children:(0,E.jsx)("strong",{style:{color:"#FF7455"},children:"INSERIR USU\xc1RIO RESPONS\xc1VEL"})}):we.USUARIO}):""})}),(0,E.jsxs)(h.ZP,{children:[(0,E.jsx)(h.Z_,{children:(0,E.jsx)(_.Z,{id:"menu",color:"light",icon:"menu",isLight:!0,children:(0,E.jsx)("p",{children:" "})})}),(0,E.jsxs)(h.h_,{children:[(0,E.jsx)(h.hP,{onClick:()=>(localStorage.removeItem("CAPP-local"),localStorage.removeItem("responsavel_recebimento"),void D("/")),children:"Alterar Local"}),(0,E.jsx)(h.hP,{onClick:()=>{(async()=>{const e=await g.Z.get("/motivosCancelamentoCirurgia");N(e.data)})(),U(!0),document.getElementById("menu").click()},children:"Suspender Cirurgia"}),(0,E.jsx)(h.hP,{onClick:()=>(async()=>{console.log("proxima"),await Re(),console.log("paciente",Y[0]);const e=Y[0];o({state:{DADOS:{COD_AVISO:e.COD_AVISO,PROX_ETAPA:e.PROX_ETAPA},CODIGO_SALA_CIRURGICA:e.DS_SAL_CIR}}),j(!0)})(),children:"Pr\xf3xima Cirurgia"}),(0,E.jsx)(h.hP,{onClick:()=>Se(!0),children:"Desfazer etapa do Paciente"})]})]})]}),s?(0,E.jsx)(R.Z,{location:a,codigoUsuario:e=>(e=>{j(!1);const{CD_SAL_CIR:a,COD_AVISO:o}=Y[0];console.log("proxima cirurgia"),g.Z.patch("/proxima-cirurgia",{sala:a,aviso:o,usuario:e}).then((()=>{console.log("proxima cirurgia retorno"),D("/salaCirurgica/preparoLimpeza")}))})(e),voltar:()=>j(!1)}):(0,E.jsxs)(A.Z,{children:[Y.length>0?(0,E.jsxs)(m.ZP,{borderSize:"0",borderColor:"success",children:[(0,E.jsx)(m.Ol,{style:{backgroundColor:"#37BBAA",width:"100%"},children:(0,E.jsx)("div",{style:{textAlign:"center",margin:"auto",color:"white",fontSize:"25px",fontWeight:"bold"},children:Y[0].PACIENTE})}),(0,E.jsx)(m.eW,{children:(0,E.jsx)("div",{className:"col-12",children:(0,E.jsxs)("div",{className:"row",children:[(0,E.jsx)("div",{className:"col-6",style:{margin:"auto",textAlign:"center"},children:(0,E.jsxs)("div",{className:"row",children:[(0,E.jsx)("div",{className:"col-12",children:(0,E.jsx)(x,{})}),(0,E.jsx)("div",{className:"co-12",style:{fontSize:"20px",marginTop:"5px"},children:Y[0].CIRURGIA})]})}),(0,E.jsx)("div",{className:"col-3",style:{margin:"auto",textAlign:"center"},children:(0,E.jsxs)("div",{className:"row",children:[(0,E.jsx)("div",{className:"col-12",children:(0,E.jsx)(S,{})}),(0,E.jsx)("div",{className:"co-12",style:{fontSize:"20px",marginTop:"5px"},children:Y[0].NM_PRESTADOR})]})}),(0,E.jsx)("div",{className:"col-3",style:{margin:"auto",textAlign:"center"},children:(0,E.jsxs)("div",{className:"row",children:[(0,E.jsx)("div",{className:"col-12",children:(0,E.jsx)(p,{})}),(0,E.jsx)("div",{className:"co-12",style:{fontSize:"20px",marginTop:"5px"},children:Y[0].PREVISAO_INICIO})]})})]})})})]}):(0,E.jsx)("center",{children:(0,E.jsx)("h3",{children:"Carregando..."})}),(0,E.jsx)(m.ZP,{borderSize:"3",borderColor:"success",style:{paddingLeft:"9px"},children:(0,E.jsxs)("div",{className:"row",children:[(0,E.jsx)("div",{className:"col-sm-2 pull-right",style:{maxWidth:"120px",backgroundColor:"#37BBAA",padding:"12px",borderRadius:"20px 0 0 20px",borderColor:"#37BBAA",borderSize:"2px"},children:(0,E.jsx)("div",{style:{padding:"80px 0",textAlign:"center"},children:(0,E.jsx)("h3",{style:{transform:"rotate(270deg)",color:"#fff"},children:"Etapas"})})}),(0,E.jsx)("div",{className:"col-sm-10",style:{padding:"22px"},children:(0,E.jsx)("div",{style:{maxWidth:"24rem",wordBreak:"break-word"},children:(0,E.jsx)("div",{style:{display:"flex"},children:K.length>0?K.map(((e,a)=>(0,E.jsx)("div",{className:"col-sm-5 ",style:{textAlign:"center"},children:(0,E.jsxs)("div",{className:"row ",children:[(0,E.jsx)("div",{className:"col-sm-20 pull-right",children:(0,E.jsxs)(_.Z,{disabled:e.ETAPA_ACAO>Y[0].PROX_ETAPA,onClick:()=>ve(e.ETAPA_ACAO),rounded:!0,id:`B${e.ETAPA_ACAO}`,style:{backgroundColor:Y[0].PROX_ETAPA>=e.ETAPA_ACAO?110===e.ETAPA_ACAO?"#4D4F53":90===e.ETAPA_ACAO||100===e.ETAPA_ACAO?null===e.DT_ETAPA?"#FFA188":"#B44D36":null===e.DT_ETAPA?"#37BBAA":"#247C71":Y[0].PROX_ETAPA!==e.ETAPA_ACAO&&110===e.ETAPA_ACAO?"#BFC1C2":90===e.ETAPA_ACAO||100===e.ETAPA_ACAO?null===e.DT_ETAPA?"#BFC1C2":"#F55838":null===e.DT_ETAPA?"#BFC1C2":"#247C71",borderRadius:"25px",fontWeight:"700",fontSize:"17px",height:"120px",width:"120px",color:"#fff"},size:"large",children:[a+1>5?(0,E.jsx)(C.Z,{icon:"login",color:"#fff",size:"3x",forceFamily:"material"}):a+1,(0,E.jsx)("br",{}),e.ETAPA_ATUAL]})}),(0,E.jsx)("div",{className:"col-sm-12",style:{marginTop:"10px"},children:(0,E.jsx)("div",{children:110!==e.ETAPA_ACAO&&(0,E.jsx)("input",{disabled:null===e.DT_ETAPA&&e.ETAPA_ACAO>Y[0].PROX_ETAPA,style:{width:"126px",height:"40px",borderRadius:"20px",backgroundColor:Y[0].PROX_ETAPA>=e.ETAPA_ACAO?90===e.ETAPA_ACAO||100===e.ETAPA_ACAO?null===e.DT_ETAPA?"#FFA188":"#B44D36":null===e.DT_ETAPA?"#37BBAA":"#247C71":Y[0].PROX_ETAPA===e.ETAPA_ACAO||90!==e.ETAPA_ACAO&&100!==e.ETAPA_ACAO?null===e.DT_ETAPA?"#BFC1C2":"#247C71":null===e.DT_ETAPA?"#BFC1C2":"#F55838",textAlign:"center",margin:"auto",paddingTop:"1px",paddingLeft:"15px",fontWeight:"bold",fontSize:"9px",color:"white",border:"0px"},onChange:a=>{ae(a.target.value),Ne(e.ETAPA_ACAO,a.target.value)},className:"input-time",type:"datetime-local",id:e.ETAPA_ACAO,name:"date",value:null!=e.DT_ETAPA&&P(e.DT_ETAPA),defaultValue:null!=e.DT_ETAPA&&P(e.DT_ETAPA)})})})]})}))):(0,E.jsx)("center",{children:(0,E.jsx)("h3",{children:"Carregando..."})})})})})]})}),(0,E.jsxs)(u.ZP,{id:"error-modal",isOpen:M,isCentered:!0,isAnimation:!1,titleId:"modal-error",children:[(0,E.jsx)(u.xB,{style:{backgroundColor:J.COR,color:"#fff"},children:(0,E.jsx)(u.r6,{children:J.TITULO})}),(0,E.jsx)(u.fe,{className:"ModalBody",children:(0,E.jsx)("h3",{children:J.MSG})}),(0,E.jsx)(u.mz,{children:(0,E.jsx)(_.h,{isToolbar:"true",size:"lg",children:(0,E.jsx)(_.Z,{color:"light",onClick:()=>z(!1),children:"FECHAR"})})})]}),(0,E.jsxs)(u.ZP,{id:"sucess-modal",isAnimation:!1,isOpen:H,isCentered:!0,titleId:"modal-sucess",children:[(0,E.jsx)(u.xB,{style:{backgroundColor:"#37BBAA",color:"#fff"},children:(0,E.jsx)(u.r6,{id:"example-title",children:"AVISO"})}),(0,E.jsx)(u.fe,{className:"ModalBody",children:(0,E.jsx)("h3",{children:"DATA ALTERADA COM SUCESSO!"})})]}),(0,E.jsxs)(u.ZP,{id:"sucess-assinado",isOpen:L,isCentered:!0,children:[(0,E.jsx)(u.xB,{style:{backgroundColor:"#37BBAA",color:"#fff"},children:(0,E.jsx)(u.r6,{children:"AVISO"})}),(0,E.jsx)(u.fe,{className:"ModalBody",children:(0,E.jsxs)("h3",{children:["ASSINADO COM SUCESSO!",(0,E.jsx)("br",{})]})})]}),(0,E.jsxs)(u.ZP,{id:"mudarResponsavel",isCentered:!0,isAnimation:!1,isOpen:F,titleId:"alert",children:[(0,E.jsx)(u.xB,{style:{backgroundColor:J.COR,color:"#fff"},children:(0,E.jsx)(u.r6,{children:J.TITULO})}),(0,E.jsx)(u.fe,{className:"ModalBody",children:(0,E.jsx)("h3",{children:J.MSG})}),(0,E.jsx)(u.mz,{children:(0,E.jsx)(_.h,{isToolbar:"true",size:"lg",children:(0,E.jsx)(_.Z,{color:"light",onClick:()=>V(!1),children:"FECHAR"})})})]}),(0,E.jsxs)(u.ZP,{id:"modalSaidaSala",isCentered:!0,isAnimation:!1,isOpen:Z,titleId:"alert",children:[(0,E.jsx)(u.xB,{style:{backgroundColor:"#4D4F53",color:"#fff"},children:(0,E.jsx)(u.r6,{children:Y.length&&110===Y[0].CD_ETAPA?"ENCAMINHAR PACIENTE":"SA\xcdDA DE SALA"})}),(0,E.jsxs)(u.fe,{children:[Y.length&&110===Y[0].CD_ETAPA&&(0,E.jsxs)("p",{children:[(0,E.jsx)("strong",{children:"ATEN\xc7\xc3O:"})," A data de sa\xedda do paciente j\xe1 foi informada. Selecione abaixo qual localidade o paciente ser\xe1 encaminhado."]}),Q.map((e=>(0,E.jsxs)(O.ZP,{onClick:()=>{var a,o;a=e.CODIGO_MV,o=`${e.ETAPA}`,ie({CODIGO:a,OPCAO:o}),B(!1),ne(!0)},className:f.Z.bloco_alta,rounded:"0",isLight:!0,color:"light",style:{fontSize:"25px",cursor:"pointer"},children:[e.ETAPA," "]},e.CODIGO_MV)))]}),(0,E.jsx)(u.mz,{children:(0,E.jsx)(_.h,{isToolbar:"true",size:"lg",children:(0,E.jsx)(_.Z,{color:"light",onClick:()=>B(!1),children:"FECHAR"})})})]}),(0,E.jsxs)(u.ZP,{id:"alert",isCentered:!0,isAnimation:!1,isOpen:F,titleId:"alert",children:[(0,E.jsx)(u.xB,{style:{backgroundColor:J.COR,color:"#fff"},children:(0,E.jsx)(u.r6,{children:J.TITULO})}),(0,E.jsx)(u.fe,{className:"ModalBody",children:(0,E.jsx)("h3",{children:J.MSG})}),(0,E.jsx)(u.mz,{children:(0,E.jsxs)(_.h,{isToolbar:"true",size:"lg",children:[(0,E.jsx)(_.Z,{color:"success",onClick:()=>{delete Y[0].PROX_ETAPA,D("/salaCirurgica/AssinaturaResponsavel",{state:{CODIGO_LOCALIDADE:Ue.CODIGO_LOCALIDADE,CODIGO_SUB_LOCALIDADE:Ue.CODIGO_SUBLOCALIDADE,CODIGO_SALA_CIRURGICA:Ue.CODIGO_SALA_CIRURGICA,PROCEDIMENTO:"ALTERAR_USUARIO",...Y[0]}})},children:"SIM"}),(0,E.jsx)(_.Z,{color:"light",onClick:()=>V(!1),children:"N\xc3O"})]})})]}),se&&(0,E.jsxs)(u.ZP,{isCentered:"true",isAnimation:!1,id:"modalConfirmAlta",isOpen:se,children:[(0,E.jsx)(u.xB,{style:{backgroundColor:"#FFCF64"},children:(0,E.jsx)(u.r6,{style:{color:"#fff"},children:" CONFIRMA\xc7\xc3O"})}),(0,E.jsx)(u.fe,{className:"ModalBody",children:(0,E.jsxs)("h4",{children:[(0,E.jsx)(C.Z,{icon:"AssignmentTurnedIn",size:"8px",color:"success"}),"  CONFIRMA A SA\xcdDA DE SALA?",(0,E.jsx)("br",{}),(0,E.jsx)("br",{}),(0,E.jsx)("strong",{children:"PACIENTE:"})," ",Y[0].PACIENTE,(0,E.jsx)("br",{}),(0,E.jsx)("strong",{children:"DESTINO :"})," ",te.OPCAO]})}),(0,E.jsxs)(u.mz,{children:[(0,E.jsx)(_.Z,{size:"lg",color:"light",onClick:()=>{ne(!1),B(!0)},children:"N\xc3O"}),(0,E.jsx)(_.Z,{size:"lg",color:"success",onClick:()=>(async()=>{const e=JSON.parse(localStorage.getItem("responsavel_recebimento"));if(!e)return!1;ne(!1),G(!0);const a=setTimeout((()=>{G(!1),D("/salaCirurgica/limpeza",{state:{MOTIVO_ALTA:te.CODIGO,DATA_ALTA:new Date,AVISO:Y[0].COD_AVISO,USUARIO_RESPONSAVEL:e.USUARIO,SAIDA_SALA:!0,CD_ETAPA:Y[0].CD_ETAPA}})}),2e3);return()=>{clearTimeout(a)}})(),children:"SIM"})]})]}),(0,E.jsxs)(u.ZP,{isCentered:"true",isAnimation:!1,id:"modalIncluirResponsavel",isOpen:le,children:[(0,E.jsx)(u.xB,{style:{backgroundColor:"#FFCF64"},children:(0,E.jsx)(u.r6,{style:{color:"#fff"},children:" ATEN\xc7\xc3O"})}),(0,E.jsx)(u.fe,{className:"ModalBody",children:(0,E.jsx)("h4",{children:"Para prosseguir, \xe9 necess\xe1rio inserir o usu\xe1rio respons\xe1vel"})}),(0,E.jsxs)(u.mz,{children:[(0,E.jsx)(_.Z,{size:"lg",color:"light",onClick:()=>ce(!1),children:"FECHAR"}),(0,E.jsx)(_.Z,{size:"lg",color:"success",onClick:()=>{delete Y[0].PROX_ETAPA,D("/salaCirurgica/AssinaturaResponsavel",{state:{CODIGO_LOCALIDADE:Ue.CODIGO_LOCALIDADE,CODIGO_SUB_LOCALIDADE:Ue.CODIGO_SUBLOCALIDADE,CODIGO_SALA_CIRURGICA:Ue.CODIGO_SALA_CIRURGICA,PROCEDIMENTO:"ALTERAR_USUARIO",...Y[0]}})},children:"INSERIR"})]})]}),(0,E.jsxs)(u.ZP,{isCentered:"true",isAnimation:!1,isOpen:me,children:[(0,E.jsx)(u.xB,{style:{backgroundColor:"#FF7455"},children:(0,E.jsx)(u.r6,{style:{color:"#fff"},children:" ATEN\xc7\xc3O"})}),(0,E.jsx)(u.fe,{className:"ModalBody",children:(0,E.jsx)("h4",{children:Oe})}),(0,E.jsx)(u.mz,{children:(0,E.jsx)(_.Z,{size:"lg",color:"light",onClick:()=>he(!1),children:"FECHAR"})})]}),(0,E.jsxs)(u.ZP,{isCentered:"true",isAnimation:!1,id:"modalIncluirResponsavel",isOpen:Ae,children:[(0,E.jsx)(u.xB,{style:{backgroundColor:"#FFCF64"},children:(0,E.jsx)(u.r6,{style:{color:"#fff"},children:" ATEN\xc7\xc3O"})}),(0,E.jsxs)(u.fe,{className:"ModalBody",children:[(0,E.jsx)("h4",{children:"Preencha as etapas obrigat\xf3rias listadas abaixa ou prossiga."}),(0,E.jsx)("br",{}),_e.map((e=>(0,E.jsx)("li",{style:{fontSize:"1.4rem",color:"#FF7455",fontWeight:70!==e.ETAPA_ACAO?"bold":"normal"},value:e.ETAPA_ATUAL,children:70!==e.ETAPA_ACAO?e.ETAPA_ATUAL+" (obrigat\xf3rio) ":e.ETAPA_ATUAL},e.ETAPA_ACAO)))]}),(0,E.jsxs)(u.mz,{children:[(0,E.jsx)(_.Z,{size:"lg",color:"light",onClick:()=>de(!1),children:"FECHAR"}),1===_e.length&&70===_e[0].ETAPA_ACAO&&(0,E.jsx)(_.Z,{size:"lg",color:"success",onClick:()=>{de(!1),B(!0)},children:"PROSSEGUIR"})]})]}),(0,E.jsxs)(u.ZP,{id:"modalCancelamentoCirurgia",isOpen:b,titleId:"modalCancelamentoCirurgia",children:[(0,E.jsx)(u.xB,{style:{backgroundColor:"#FECE64"},children:(0,E.jsx)(u.r6,{style:{color:"#fff"},id:"example-title",children:"Confirma a Suspens\xe3o da Cirurgia?"})}),(0,E.jsxs)(u.fe,{className:"ModalBody",children:[(0,E.jsx)("h3",{children:"Informe o motivo:"}),(0,E.jsx)("br",{}),(0,E.jsxs)("select",{onChange:e=>y(e.target.value),name:"motivos",id:"motivos",children:[(0,E.jsx)("option",{value:"Selecione",children:"Selecione"}),v.map((e=>(0,E.jsx)("option",{value:e.CD_MOT_CANC,children:e.DS_MOT_CANC},e.CD_MOT_CANC)))]})]}),(0,E.jsx)(u.mz,{children:(0,E.jsxs)(_.h,{children:[(0,E.jsx)(_.Z,{className:"btn-style",color:"light",onClick:()=>{U(!1)},children:"Cancelar"}),(0,E.jsx)(_.Z,{onClick:()=>{null===w?alert("Preencha o motivo da suspens\xe3o da cirurgia antes de concluir."):(async(e,a,o,r)=>{(await g.Z.post("/suspenderCirurgia",{CD_AVISO:e,CD_USUARIO:a,CD_AVISO_CANCELAMENTO:o,CD_SUB_LOCALIDADE:r})).data?(alert("CIRURGIA SUSPENSA!"),D("/salaCirurgica/Recebimento")):alert("Voc\xea n\xe3o tem permiss\xe3o para suspender essa cirurgia!")})(Y[0].COD_AVISO,pe.USUARIO,w,ge.CODIGO_SUBLOCALIDADE)},className:"btn-style",color:"success",children:"Confirmar"})]})})]}),(0,E.jsxs)(u.ZP,{isCentered:!0,isOpen:xe,isAnimation:!1,is:!0,children:[(0,E.jsx)(u.xB,{style:{backgroundColor:"#FECE64"},children:(0,E.jsx)(u.r6,{style:{color:"#fff"},children:"ALERTA"})}),(0,E.jsxs)(u.fe,{className:"ModalBody",children:[(0,E.jsx)("h3",{children:"Voc\xea realmente confirma desfazer etapa do Paciente?"}),(0,E.jsx)("br",{})]}),(0,E.jsxs)(u.mz,{children:[(0,E.jsx)(_.Z,{className:"btn-style",size:"lg",color:"light",onClick:()=>{Se(!1)},children:"FECHAR"}),(0,E.jsx)(_.Z,{className:"btn-style",size:"lg",color:"success",onClick:async()=>{await(0,T.Z)(Y[0],we.USUARIO),Se(!1),D("/salaCirurgica/preparoLimpeza")},children:"CONFIRMAR"})]})]})]})]})}},9476:(e,a,o)=>{o.d(a,{Z:()=>i});var r=o(2967);const t=JSON.parse(localStorage.getItem("CAPP-local"));const i=async function(e,a){const o=new Date,i=new Date(o.getTime());let s;try{const o={avisoCirurgia:e.COD_AVISO,dtEtapa:i,cdEtapa:e.CD_ETAPA,usuario:a,salaCirurgia:e.CD_SAL_CIR,tipoAcao:"D",sublocalidade:t.CODIGO_SUBLOCALIDADE};await r.Z.post("/avancarEtapasCirurgia",o)&&(s=!0)}catch(n){console.log(n),s=!1}return s}},9395:(e,a,o)=>{o.d(a,{Z:()=>r});const r={bloco_alta:"QuadroInformativo_bloco_alta__VzNeX",tempo_decorrido_rpa:"QuadroInformativo_tempo_decorrido_rpa__Io9V0",tempo_entrada_rpa:"QuadroInformativo_tempo_entrada_rpa__8dF8v",texto_stilo_sim:"QuadroInformativo_texto_stilo_sim__y-L5m",texto_stilo_nao:"QuadroInformativo_texto_stilo_nao__jz2Fz",modal_header_alergias_list:"QuadroInformativo_modal_header_alergias_list__Nk5dR","input-motivos-alta":"QuadroInformativo_input-motivos-alta__kkh54",card_info_rpa:"QuadroInformativo_card_info_rpa__YcB9m",info_wrapper:"QuadroInformativo_info_wrapper__HiXcK",paciente_nome_titulo:"QuadroInformativo_paciente_nome_titulo__q8fr-",procedimento_titulo:"QuadroInformativo_procedimento_titulo__57EJU",paciente_data_titulo:"QuadroInformativo_paciente_data_titulo__p149e",paciente_nome:"QuadroInformativo_paciente_nome__4sQ+v",sub_informacoes:"QuadroInformativo_sub_informacoes__r81hf",paciente_data:"QuadroInformativo_paciente_data__KtO53",paciente_procedimento:"QuadroInformativo_paciente_procedimento__Oarhi",style:"QuadroInformativo_style__StYzW","data-jejum":"QuadroInformativo_data-jejum__Pc-Vd","card-body-left":"QuadroInformativo_card-body-left__HJjfz","bloco-card-body-quadro-left":"QuadroInformativo_bloco-card-body-quadro-left__CNvQI","btn-acoes-cc":"QuadroInformativo_btn-acoes-cc__neYGV","btn-sala-cc":"QuadroInformativo_btn-sala-cc__OISSa","area-topicos":"QuadroInformativo_area-topicos__+mG57",card_anestesista:"QuadroInformativo_card_anestesista__KsUB1",card_anestesista_body:"QuadroInformativo_card_anestesista_body__mZEmf",informations:"QuadroInformativo_informations__t-tDl",others_info:"QuadroInformativo_others_info__zGukX",options:"QuadroInformativo_options__tXNEt",card_entrada:"QuadroInformativo_card_entrada__-4JbV",card_entrada_body:"QuadroInformativo_card_entrada_body__0u9gb",button_area:"QuadroInformativo_button_area__AHKZs",button_alta:"QuadroInformativo_button_alta__P3cm1",card_alergia:"QuadroInformativo_card_alergia__gzzms","card_alergia-body":"QuadroInformativo_card_alergia-body__XRqim","bloco-card-body-quadro-acoes":"QuadroInformativo_bloco-card-body-quadro-acoes__AfajT",pos_info_paciente:"QuadroInformativo_pos_info_paciente__ZIh+8",bloco_informacoes:"QuadroInformativo_bloco_informacoes__Zd+I7","card-info":"QuadroInformativo_card-info__nQyQk",motivos:"QuadroInformativo_motivos__Qyhfy","modal-header-confirm-action":"QuadroInformativo_modal-header-confirm-action__g49Iu","modal-header-checklist":"QuadroInformativo_modal-header-checklist__DoGti","btn-action":"QuadroInformativo_btn-action__kthy6","text-minutes":"QuadroInformativo_text-minutes__cpAvM","area-info-card":"QuadroInformativo_area-info-card__bVhxW","area-info-card-acoes":"QuadroInformativo_area-info-card-acoes__9i3sG",btn_inducao_cc:"QuadroInformativo_btn_inducao_cc__6CaCc",lds_ring:"QuadroInformativo_lds_ring__N0ifB","input-datatime-inducao":"QuadroInformativo_input-datatime-inducao__yD3fR","input-datatime-inducao-2":"QuadroInformativo_input-datatime-inducao-2__VBwmL","radio-inducao":"QuadroInformativo_radio-inducao__ex+L2",checkbox:"QuadroInformativo_checkbox__8xBzo"}}}]);
//# sourceMappingURL=340.2cc4714e.chunk.js.map