"use strict";(self.webpackChunkapp_cc=self.webpackChunkapp_cc||[]).push([[461],{2967:(e,t,n)=>{n.d(t,{Z:()=>o,h:()=>i});var a=n(4569),s=n.n(a);const l="https://appcc-api.apps.ham.org.br",r=s().create({baseURL:`${l}`,headers:{"Content-Type":"application/json"}}),i=s().create({baseURL:`${l}`,headers:{"Content-Type":"application/json"}}),o=r},9757:(e,t,n)=>{n.d(t,{Z:()=>s});n(2791);var a=n(184);const s=e=>{let{titulo:t,children:n,localidade:s}=e;return(0,a.jsxs)("header",{children:[(0,a.jsxs)("p",{children:[(0,a.jsxs)("strong",{children:[t," |"]})," ",s]}),(0,a.jsx)("div",{className:"options",children:n})]})}},9775:(e,t,n)=>{n.d(t,{ZP:()=>v,Z_:()=>p,hP:()=>f,h_:()=>m});var a=n(2791),s=n(3229),l=n(2835),r=n(1828),i=n(1694),o=n.n(i),d=n(1245),c=n(6457),u=n(184);const p=e=>{let{children:t,isOpen:n,setIsOpen:l,hasIcon:r}=e;const i=(0,a.useRef)(null),d=(0,a.useCallback)(((e,t)=>(i.current=e,t(e))),[]);return(0,u.jsx)(s.s,{children:e=>{var s;let{ref:i}=e;return a.cloneElement(t.props.isButtonGroup?(0,u.jsx)("span",{className:"visually-hidden",children:"Toggle Dropdown"}):t,{ref:e=>d(e,i),onClick:()=>{var e;null!==t&&void 0!==t&&null!==(e=t.props)&&void 0!==e&&e.onClick&&t.props.onClick(),l(!n)},className:o()({"dropdown-toggle":r,"dropdown-toggle-split":t.props.isButtonGroup,show:n},null===t||void 0===t||null===(s=t.props)||void 0===s?void 0:s.className),"aria-expanded":n})}})};p.defaultProps={isOpen:!1,setIsOpen:null,hasIcon:!0},p.displayName="DropdownToggle";const m=e=>{let{isOpen:t,setIsOpen:n,children:s,className:r,isAlignmentEnd:i,breakpoint:d,size:p,direction:m,isCloseAfterLeave:h,...f}=e;const N=(0,a.useRef)(null),v=(0,a.useCallback)(((e,t)=>(N.current=e,t(e))),[]),g=("up"===m?"top":"end"===m&&"right")||"start"===m&&"left"||"bottom",x=i?"end":"start",{darkModeStatus:D}=(0,c.Z)();return t?(0,u.jsx)(l.r,{placement:d?"bottom-start":`${g}-${x}`,modifiers:[{name:"flip",options:{fallbackPlacements:[`top-${x}`,`bottom-${x}`]}}],children:e=>{let{ref:t,style:a,placement:l}=e;return(0,u.jsx)("ul",{role:"presentation",ref:e=>v(e,t),style:d?null:a,"data-placement":l,className:o()("dropdown-menu","show",{"dropdown-menu-dark":D},{[`dropdown-menu-${p}`]:p,"dropdown-menu-end":!i&&d,[`dropdown-menu${d?`-${d}`:""}-${i?"end":"start"}`]:i||d},r),"data-bs-popper":d?"static":null,onMouseLeave:h?()=>n(!1):null,...f,children:s})}}):null};m.defaultProps={isOpen:!1,setIsOpen:null,className:null,isAlignmentEnd:!1,breakpoint:null,size:null,direction:null,isCloseAfterLeave:!0},m.displayName="DropdownMenu";const h=(0,a.forwardRef)(((e,t)=>{let{children:n,className:a,...s}=e;return(0,u.jsx)("li",{ref:t,className:o()("dropdown-item-wrapper",a),...s,children:n})}));h.defaultProps={className:null};const f=(0,a.forwardRef)(((e,t)=>{var n;let{children:s,isHeader:l,isDivider:r,isText:i,...d}=e;var c,p,m;return l?(0,u.jsx)(h,{ref:t,...d,children:(0,a.cloneElement)("string"===typeof s?(0,u.jsx)("h6",{children:s}):s,{className:o()("dropdown-header",null===s||void 0===s||null===(c=s.props)||void 0===c?void 0:c.className)})}):r?(0,u.jsx)(h,{ref:t,...d,children:(0,u.jsx)("hr",{className:o()("dropdown-divider",null===s||void 0===s||null===(p=s.props)||void 0===p?void 0:p.className)})}):i?(0,u.jsx)(h,{ref:t,...d,children:(0,a.cloneElement)("string"===typeof s?(0,u.jsx)("div",{children:s}):s,{className:o()("dropdown-item-text","dropdown-item","disabled",null===s||void 0===s||null===(m=s.props)||void 0===m?void 0:m.className)})}):(0,u.jsx)(h,{ref:t,...d,children:(0,a.cloneElement)("string"===typeof s?(0,u.jsx)("span",{children:s}):s,{className:o()("dropdown-item",null===s||void 0===s||null===(n=s.props)||void 0===n?void 0:n.className)})})}));f.defaultProps={children:null,isHeader:!1,isDivider:!1,isText:!1};const N=e=>{let{tag:t,children:n,isOpen:s,setIsOpen:l,direction:i,isButtonGroup:c,className:p}=e;const[m,h]=(0,a.useState)(!(null===s||!l)&&s),f=(0,a.useRef)(null),N=(0,a.useCallback)((()=>{null!==s&&l?l(!1):h(!1)}),[s,l]);return(0,d.Z)(f,"mousedown",N),(0,d.Z)(f,"touchstart",N),(0,u.jsx)(r.dK,{children:(0,u.jsx)(t,{ref:f,className:o()({[`drop${i}`]:i&&!c,"btn-group":c},p),children:n.map(((e,t)=>["DropdownMenu","DropdownToggle"].includes(e.type.displayName)?a.cloneElement(e,{isOpen:null!==s&&l?s:m,setIsOpen:null!==s&&l?l:h,direction:i,key:t}):e))})})};N.defaultProps={tag:"div",isOpen:null,setIsOpen:null,className:null,direction:"down",isButtonGroup:!1},N.displayName="Dropdown";const v=N},1477:(e,t,n)=>{n.d(t,{fe:()=>h,mz:()=>f,xB:()=>m,r6:()=>p,ZP:()=>v});var a=n(2791),s=n(1694),l=n.n(s),r=n(1856),i=n(68),o=n(7528),d=n(7097);function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;const s=(0,a.useRef)();(0,a.useEffect)((()=>{s.current=t}),[t]),(0,a.useEffect)((()=>{if(!(n&&n.addEventListener))return;const t=e=>s.current(e);return n.addEventListener(e,t),()=>{n.removeEventListener(e,t)}}),[e,n])}var u=n(184);const p=(0,a.forwardRef)(((e,t)=>{let{tag:n,id:a,children:s,className:r,...i}=e;return(0,u.jsx)(d.Z,{tag:n,ref:t,id:a,className:l()("modal-title",r),...i,children:s})}));p.defaultProps={className:null,tag:"h5"};const m=(0,a.forwardRef)(((e,t)=>{let{children:n,className:a,setIsOpen:s,...r}=e;return(0,u.jsxs)("div",{ref:t,className:l()("modal-header",a),...r,children:[n,s&&(0,u.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>s(!1)})]})}));m.defaultProps={className:null,setIsOpen:null};const h=(0,a.forwardRef)(((e,t)=>{let{children:n,className:a,...s}=e;return(0,u.jsx)("div",{ref:t,className:l()("modal-body",a),...s,children:n})}));h.defaultProps={className:null};const f=(0,a.forwardRef)(((e,t)=>{let{children:n,className:a,...s}=e;return(0,u.jsx)("div",{ref:t,className:l()("modal-footer",a),...s,children:n})}));f.defaultProps={className:null};const N=e=>{let{children:t,isOpen:n,setIsOpen:s,id:d,titleId:p,isStaticBackdrop:m,isScrollable:h,isCentered:f,size:N,fullScreen:v,isAnimation:g,...x}=e;const D=(0,a.useRef)(null),C=(0,a.useRef)(null);(0,a.useLayoutEffect)((()=>(n&&document.body.classList.add("modal-open"),()=>{document.body.classList.remove("modal-open")})));const j=e=>{!C.current||C.current.contains(e.target)||m||s(!1)};c("mousedown",j),c("touchstart",j);const A=e=>{C.current&&!C.current.contains(e.target)&&m&&(D.current.classList.add("modal-static"),setTimeout((()=>D.current.classList.remove("modal-static")),300))};c("mousedown",A),c("touchstart",A);c("keydown",(e=>{"Escape"===e.key&&s(!1)}));const O=g?{initial:{opacity:0,y:"-50%"},animate:{opacity:1,x:"0%",y:"0%"},exit:{opacity:0,y:"-50%"},transition:{ease:"easeInOut",duration:.3}}:null;return(0,u.jsx)(o.Z,{children:(0,u.jsx)(r.M,{exitBeforeEnter:!0,children:n&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(i.E.div,{ref:D,className:l()("modal",{fade:g},"show"),role:"dialog",style:{display:"block"},id:d,tabIndex:"-1","aria-labelledby":p,"aria-hidden":"true","data-bs-backdrop":m?"static":null,"data-bs-keyboard":m?"false":null,...O,...x,children:(0,u.jsx)("div",{ref:C,className:l()("modal-dialog",{"modal-dialog-scrollable":h,"modal-dialog-centered":f,[`modal-${N}`]:N,["modal-fullscreen"+("string"===typeof v?`-${v}-down`:"")]:v}),children:(0,u.jsx)("div",{className:"modal-content",children:t})})},"modal"),(0,u.jsx)("div",{className:l()("modal-backdrop",{fade:g},"show")})]})})})};N.defaultProps={id:null,titleId:null,isStaticBackdrop:!1,isScrollable:!1,isCentered:!1,size:null,fullScreen:!1,isAnimation:!0};const v=N},8461:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var a=n(2791),s=n(6871),l=n(9831),r=n(2967),i=n(1006),o=n(840),d=n(5409),c=n(1477),u=n(1649),p=n(9757),m=n(9775),h=n(184);const f=()=>{const e=(0,s.s0)(),t=(0,s.TH)(),[n,f]=(0,a.useState)([]),[N,v]=(0,a.useState)(!0),[g,x]=(0,a.useState)(null),[D,C]=(0,a.useState)(null),[j,A]=(0,a.useState)(Date.now()),[O,w]=(0,a.useState)(!1),[I,y]=(0,a.useState)(!1),[b,E]=(0,a.useState)(!1),[L,S]=(0,a.useState)(!1),T=(0,a.useRef)(null),[_,Z]=(0,a.useState)(!1),[P,k]=(0,a.useState)(!1);(0,a.useEffect)((()=>{(async t=>{try{const n=await r.Z.get(`/verificaExistenciaQuadro?cd_sublocalidade=${t}`);if(n&&n.data.length){const t=JSON.parse(localStorage.getItem("CAPP-local")),a=(0,l.Z)(n.data[0].ENTRADA);e("/inducao/QuadroInformativo",{state:{PULOU_ETAPA:!0,CODIGO_LOCALIDADE:t.CODIGO_LOCALIDADE,CODIGO_SUB_LOCALIDADE:t.CODIGO_SUBLOCALIDADE,DADOS:n.data[0],DATA_INICIO_JEJUM:n.data[0].INICIO_JEJUM,DATA_ENTRADA:a}})}}catch(n){console.log(n)}})(t.state.CODIGO_SUBLOCALIDADE),x(t.state.CODIGO_LOCALIDADE),C(t.state.CODIGO_SUBLOCALIDADE),k(!0);const n=setInterval((()=>{A(Date.now()),k(!1)}),3e4);return()=>{$(2,t.state.CODIGO_LOCALIDADE),clearInterval(n)}}),[t,e,D,j,T]);const U=e=>{"todos"===e&&(f([]),$(1,g),E(!0),w(!1)),"aptos"===e&&(f([]),$(2,g),E(!1),S(!0))},$=async(e,t)=>{if(k(!0),1===e){try{v(!0);const e=await r.Z.get(`retornaCirurgiasAgendadasByLocalidade?cd_localidade=${t}`);f(e.data),E(!1),w(!1),y(!0)}catch(n){console.log(n)}v(!1)}else if(2===e){try{v(!0);const e=await r.Z.get(`/retornaCirurgiasAgendadasByLocalidade?cd_localidade=${t}&status=apto`);f(e.data),w(!0),y(!1),S(!1)}catch(n){console.log(n)}v(!1)}},R=async t=>{try{const n=await r.Z.get(`/retornaProximaEtapa?cd_localidade=${g}&cod_aviso=${t.COD_AVISO}`);n&&e("/inducao/recebimento",{state:{CODIGO_LOCALIDADE:g,CODIGO_SUB_LOCALIDADE:D,DADOS:t,INFO_PROX_ETAPA:{PROX_ETAPA:n.data[0]}}})}catch(n){console.log(n)}},M=`Indu\xe7\xe3o L${JSON.parse(localStorage.getItem("CAPP-local")).SUBLOCALIDADE.split(" ")[1]}`;return(0,h.jsxs)(i.Z,{title:u.Q.INDUCAO_LISTAGEM.text,children:[(0,h.jsx)(p.Z,{titulo:M,localidade:"Lista de Pacientes",children:(0,h.jsxs)(m.ZP,{children:[(0,h.jsx)(m.Z_,{children:(0,h.jsx)(d.Z,{color:"light",icon:"menu",isLight:!0,children:(0,h.jsx)("p",{children:" "})})}),(0,h.jsx)(m.h_,{children:(0,h.jsx)(m.hP,{onClick:()=>(localStorage.removeItem("CAPP-local"),void e("/")),children:"Alterar Local"})})]})}),(0,h.jsxs)(o.Z,{children:[(0,h.jsx)("div",{className:"position-filter",children:P&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(d.Z,{size:"lg",rounded:3,disabled:b,color:"info",isActive:O,isLight:!0,onClick:()=>U("aptos"),children:"Aptos"}),(0,h.jsx)(d.Z,{size:"lg",id:"btnTodos",rounded:3,disabled:L,style:{margin:"3px"},color:"info",isActive:I,isLight:!0,onClick:()=>U("todos"),children:"Todos"})]})}),(0,h.jsx)("br",{}),(0,h.jsx)("div",{children:N?(0,h.jsxs)("div",{className:"lds-ring",children:[(0,h.jsx)("div",{}),(0,h.jsx)("div",{}),(0,h.jsx)("div",{}),(0,h.jsx)("div",{})]}):n.length?n.map((e=>(0,h.jsxs)("div",{className:null==e.CANCELADO?"bloco-paciente":"bloco-paciente-cancelado",onClick:null==e.CANCELADO?()=>R(e):()=>Z(!0),onKeyDown:null==e.CANCELADO?()=>R(e):()=>Z(!0),children:[(0,h.jsx)("div",{className:"fw-bold",children:e.PACIENTE}),(0,h.jsx)("div",{className:"text-muted",children:(0,h.jsx)("small",{style:{color:null!=e.CANCELADO&&"#fff"},children:e.NM_MAE})}),(0,h.jsxs)("div",{className:"data_nasc",children:[e.DT_NASCIMENTO,null!=e.CANCELADO&&(0,h.jsx)("input",{className:"btn-info-susp-cir",type:"button",value:"SUSPENSA"})]})]},e.CD_AVISO))):(0,h.jsxs)("div",{className:"d-flex justify-content-center",children:[(0,h.jsx)("br",{}),(0,h.jsx)("br",{}),(0,h.jsx)("h1",{children:"N\xe3o h\xe1 paciente!"})]})}),(0,h.jsxs)(c.ZP,{id:"modalCancelamentoCirurgia",isOpen:_,titleId:"modalCancelamentoCirurgia",children:[(0,h.jsx)(c.xB,{style:{backgroundColor:"#E5684C"},children:(0,h.jsx)(c.r6,{style:{color:"#fff"},id:"example-title",children:"ALERTA"})}),(0,h.jsx)(c.fe,{className:"ModalBody",children:(0,h.jsx)("h1",{children:"Esta cirurgia foi suspensa!"})}),(0,h.jsx)(c.mz,{children:(0,h.jsx)(d.h,{children:(0,h.jsx)(d.Z,{onClick:()=>Z(!1),className:"btn-style",color:"light",children:"Fechar"})})})]})]})]})}},4522:(e,t,n)=>{function a(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{Z:()=>a})},9297:(e,t,n)=>{function a(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,{Z:()=>a})},2729:(e,t,n)=>{n.d(t,{vh:()=>s,yJ:()=>a});Math.pow(10,8);var a=6e4,s=36e5},9831:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(2729),s=n(4522),l=n(9297);function r(e,t){(0,s.Z)(1,arguments);var n=t||{},r=null==n.additionalDigits?2:(0,l.Z)(n.additionalDigits);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!==typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var f,N=function(e){var t,n={},a=e.split(i.dateTimeDelimiter);if(a.length>2)return n;/:/.test(a[0])?t=a[0]:(n.date=a[0],t=a[1],i.timeZoneDelimiter.test(n.date)&&(n.date=e.split(i.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length)));if(t){var s=i.timezone.exec(t);s?(n.time=t.replace(s[1],""),n.timezone=s[1]):n.time=t}return n}(e);if(N.date){var v=function(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),a=e.match(n);if(!a)return{year:NaN,restDateString:""};var s=a[1]?parseInt(a[1]):null,l=a[2]?parseInt(a[2]):null;return{year:null===l?s:100*l,restDateString:e.slice((a[1]||a[2]).length)}}(N.date,r);f=function(e,t){if(null===t)return new Date(NaN);var n=e.match(o);if(!n)return new Date(NaN);var a=!!n[4],s=u(n[1]),l=u(n[2])-1,r=u(n[3]),i=u(n[4]),d=u(n[5])-1;if(a)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,i,d)?function(e,t,n){var a=new Date(0);a.setUTCFullYear(e,0,4);var s=a.getUTCDay()||7,l=7*(t-1)+n+1-s;return a.setUTCDate(a.getUTCDate()+l),a}(t,i,d):new Date(NaN);var c=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(m[t]||(h(e)?29:28))}(t,l,r)&&function(e,t){return t>=1&&t<=(h(e)?366:365)}(t,s)?(c.setUTCFullYear(t,l,Math.max(s,r)),c):new Date(NaN)}(v.restDateString,v.year)}if(!f||isNaN(f.getTime()))return new Date(NaN);var g,x=f.getTime(),D=0;if(N.time&&(D=function(e){var t=e.match(d);if(!t)return NaN;var n=p(t[1]),s=p(t[2]),l=p(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,s,l))return NaN;return n*a.vh+s*a.yJ+1e3*l}(N.time),isNaN(D)))return new Date(NaN);if(!N.timezone){var C=new Date(x+D),j=new Date(0);return j.setFullYear(C.getUTCFullYear(),C.getUTCMonth(),C.getUTCDate()),j.setHours(C.getUTCHours(),C.getUTCMinutes(),C.getUTCSeconds(),C.getUTCMilliseconds()),j}return g=function(e){if("Z"===e)return 0;var t=e.match(c);if(!t)return 0;var n="+"===t[1]?-1:1,s=parseInt(t[2]),l=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,l))return NaN;return n*(s*a.vh+l*a.yJ)}(N.timezone),isNaN(g)?new Date(NaN):new Date(x+D+g)}var i={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},o=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,d=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,c=/^([+-])(\d{2})(?::?(\d{2}))?$/;function u(e){return e?parseInt(e):1}function p(e){return e&&parseFloat(e.replace(",","."))||0}var m=[31,null,31,30,31,30,31,31,30,31,30,31];function h(e){return e%400===0||e%4===0&&e%100!==0}}}]);
//# sourceMappingURL=461.6aef9442.chunk.js.map