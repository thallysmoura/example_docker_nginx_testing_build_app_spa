"use strict";(self.webpackChunkapp_cc=self.webpackChunkapp_cc||[]).push([[676],{2967:(e,s,l)=>{l.d(s,{Z:()=>i,h:()=>o});var a=l(4569),n=l.n(a);const t="https://appcc-api.apps.ham.org.br",r=n().create({baseURL:`${t}`,headers:{"Content-Type":"application/json"}}),o=n().create({baseURL:`${t}`,headers:{"Content-Type":"application/json"}}),i=r},9757:(e,s,l)=>{l.d(s,{Z:()=>n});l(2791);var a=l(184);const n=e=>{let{titulo:s,children:l,localidade:n}=e;return(0,a.jsxs)("header",{children:[(0,a.jsxs)("p",{children:[(0,a.jsxs)("strong",{children:[s," |"]})," ",n]}),(0,a.jsx)("div",{className:"options",children:l})]})}},9775:(e,s,l)=>{l.d(s,{ZP:()=>v,Z_:()=>p,hP:()=>f,h_:()=>m});var a=l(2791),n=l(3229),t=l(2835),r=l(1828),o=l(1694),i=l.n(o),d=l(1245),c=l(6457),u=l(184);const p=e=>{let{children:s,isOpen:l,setIsOpen:t,hasIcon:r}=e;const o=(0,a.useRef)(null),d=(0,a.useCallback)(((e,s)=>(o.current=e,s(e))),[]);return(0,u.jsx)(n.s,{children:e=>{var n;let{ref:o}=e;return a.cloneElement(s.props.isButtonGroup?(0,u.jsx)("span",{className:"visually-hidden",children:"Toggle Dropdown"}):s,{ref:e=>d(e,o),onClick:()=>{var e;null!==s&&void 0!==s&&null!==(e=s.props)&&void 0!==e&&e.onClick&&s.props.onClick(),t(!l)},className:i()({"dropdown-toggle":r,"dropdown-toggle-split":s.props.isButtonGroup,show:l},null===s||void 0===s||null===(n=s.props)||void 0===n?void 0:n.className),"aria-expanded":l})}})};p.defaultProps={isOpen:!1,setIsOpen:null,hasIcon:!0},p.displayName="DropdownToggle";const m=e=>{let{isOpen:s,setIsOpen:l,children:n,className:r,isAlignmentEnd:o,breakpoint:d,size:p,direction:m,isCloseAfterLeave:h,...f}=e;const x=(0,a.useRef)(null),v=(0,a.useCallback)(((e,s)=>(x.current=e,s(e))),[]),C=("up"===m?"top":"end"===m&&"right")||"start"===m&&"left"||"bottom",g=o?"end":"start",{darkModeStatus:j}=(0,c.Z)();return s?(0,u.jsx)(t.r,{placement:d?"bottom-start":`${C}-${g}`,modifiers:[{name:"flip",options:{fallbackPlacements:[`top-${g}`,`bottom-${g}`]}}],children:e=>{let{ref:s,style:a,placement:t}=e;return(0,u.jsx)("ul",{role:"presentation",ref:e=>v(e,s),style:d?null:a,"data-placement":t,className:i()("dropdown-menu","show",{"dropdown-menu-dark":j},{[`dropdown-menu-${p}`]:p,"dropdown-menu-end":!o&&d,[`dropdown-menu${d?`-${d}`:""}-${o?"end":"start"}`]:o||d},r),"data-bs-popper":d?"static":null,onMouseLeave:h?()=>l(!1):null,...f,children:n})}}):null};m.defaultProps={isOpen:!1,setIsOpen:null,className:null,isAlignmentEnd:!1,breakpoint:null,size:null,direction:null,isCloseAfterLeave:!0},m.displayName="DropdownMenu";const h=(0,a.forwardRef)(((e,s)=>{let{children:l,className:a,...n}=e;return(0,u.jsx)("li",{ref:s,className:i()("dropdown-item-wrapper",a),...n,children:l})}));h.defaultProps={className:null};const f=(0,a.forwardRef)(((e,s)=>{var l;let{children:n,isHeader:t,isDivider:r,isText:o,...d}=e;var c,p,m;return t?(0,u.jsx)(h,{ref:s,...d,children:(0,a.cloneElement)("string"===typeof n?(0,u.jsx)("h6",{children:n}):n,{className:i()("dropdown-header",null===n||void 0===n||null===(c=n.props)||void 0===c?void 0:c.className)})}):r?(0,u.jsx)(h,{ref:s,...d,children:(0,u.jsx)("hr",{className:i()("dropdown-divider",null===n||void 0===n||null===(p=n.props)||void 0===p?void 0:p.className)})}):o?(0,u.jsx)(h,{ref:s,...d,children:(0,a.cloneElement)("string"===typeof n?(0,u.jsx)("div",{children:n}):n,{className:i()("dropdown-item-text","dropdown-item","disabled",null===n||void 0===n||null===(m=n.props)||void 0===m?void 0:m.className)})}):(0,u.jsx)(h,{ref:s,...d,children:(0,a.cloneElement)("string"===typeof n?(0,u.jsx)("span",{children:n}):n,{className:i()("dropdown-item",null===n||void 0===n||null===(l=n.props)||void 0===l?void 0:l.className)})})}));f.defaultProps={children:null,isHeader:!1,isDivider:!1,isText:!1};const x=e=>{let{tag:s,children:l,isOpen:n,setIsOpen:t,direction:o,isButtonGroup:c,className:p}=e;const[m,h]=(0,a.useState)(!(null===n||!t)&&n),f=(0,a.useRef)(null),x=(0,a.useCallback)((()=>{null!==n&&t?t(!1):h(!1)}),[n,t]);return(0,d.Z)(f,"mousedown",x),(0,d.Z)(f,"touchstart",x),(0,u.jsx)(r.dK,{children:(0,u.jsx)(s,{ref:f,className:i()({[`drop${o}`]:o&&!c,"btn-group":c},p),children:l.map(((e,s)=>["DropdownMenu","DropdownToggle"].includes(e.type.displayName)?a.cloneElement(e,{isOpen:null!==n&&t?n:m,setIsOpen:null!==n&&t?t:h,direction:o,key:s}):e))})})};x.defaultProps={tag:"div",isOpen:null,setIsOpen:null,className:null,direction:"down",isButtonGroup:!1},x.displayName="Dropdown";const v=x},1477:(e,s,l)=>{l.d(s,{fe:()=>h,mz:()=>f,xB:()=>m,r6:()=>p,ZP:()=>v});var a=l(2791),n=l(1694),t=l.n(n),r=l(1856),o=l(68),i=l(7528),d=l(7097);function c(e,s){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;const n=(0,a.useRef)();(0,a.useEffect)((()=>{n.current=s}),[s]),(0,a.useEffect)((()=>{if(!(l&&l.addEventListener))return;const s=e=>n.current(e);return l.addEventListener(e,s),()=>{l.removeEventListener(e,s)}}),[e,l])}var u=l(184);const p=(0,a.forwardRef)(((e,s)=>{let{tag:l,id:a,children:n,className:r,...o}=e;return(0,u.jsx)(d.Z,{tag:l,ref:s,id:a,className:t()("modal-title",r),...o,children:n})}));p.defaultProps={className:null,tag:"h5"};const m=(0,a.forwardRef)(((e,s)=>{let{children:l,className:a,setIsOpen:n,...r}=e;return(0,u.jsxs)("div",{ref:s,className:t()("modal-header",a),...r,children:[l,n&&(0,u.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>n(!1)})]})}));m.defaultProps={className:null,setIsOpen:null};const h=(0,a.forwardRef)(((e,s)=>{let{children:l,className:a,...n}=e;return(0,u.jsx)("div",{ref:s,className:t()("modal-body",a),...n,children:l})}));h.defaultProps={className:null};const f=(0,a.forwardRef)(((e,s)=>{let{children:l,className:a,...n}=e;return(0,u.jsx)("div",{ref:s,className:t()("modal-footer",a),...n,children:l})}));f.defaultProps={className:null};const x=e=>{let{children:s,isOpen:l,setIsOpen:n,id:d,titleId:p,isStaticBackdrop:m,isScrollable:h,isCentered:f,size:x,fullScreen:v,isAnimation:C,...g}=e;const j=(0,a.useRef)(null),N=(0,a.useRef)(null);(0,a.useLayoutEffect)((()=>(l&&document.body.classList.add("modal-open"),()=>{document.body.classList.remove("modal-open")})));const O=e=>{!N.current||N.current.contains(e.target)||m||n(!1)};c("mousedown",O),c("touchstart",O);const A=e=>{N.current&&!N.current.contains(e.target)&&m&&(j.current.classList.add("modal-static"),setTimeout((()=>j.current.classList.remove("modal-static")),300))};c("mousedown",A),c("touchstart",A);c("keydown",(e=>{"Escape"===e.key&&n(!1)}));const I=C?{initial:{opacity:0,y:"-50%"},animate:{opacity:1,x:"0%",y:"0%"},exit:{opacity:0,y:"-50%"},transition:{ease:"easeInOut",duration:.3}}:null;return(0,u.jsx)(i.Z,{children:(0,u.jsx)(r.M,{exitBeforeEnter:!0,children:l&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o.E.div,{ref:j,className:t()("modal",{fade:C},"show"),role:"dialog",style:{display:"block"},id:d,tabIndex:"-1","aria-labelledby":p,"aria-hidden":"true","data-bs-backdrop":m?"static":null,"data-bs-keyboard":m?"false":null,...I,...g,children:(0,u.jsx)("div",{ref:N,className:t()("modal-dialog",{"modal-dialog-scrollable":h,"modal-dialog-centered":f,[`modal-${x}`]:x,["modal-fullscreen"+("string"===typeof v?`-${v}-down`:"")]:v}),children:(0,u.jsx)("div",{className:"modal-content",children:s})})},"modal"),(0,u.jsx)("div",{className:t()("modal-backdrop",{fade:C},"show")})]})})})};x.defaultProps={id:null,titleId:null,isStaticBackdrop:!1,isScrollable:!1,isCentered:!1,size:null,fullScreen:!1,isAnimation:!0};const v=x},4676:(e,s,l)=>{l.r(s),l.d(s,{default:()=>h});var a=l(2791),n=l(6871),t=l(1006),r=l(840),o=l(1649),i=l(1477),d=l(2967),c=l(9757),u=l(9775),p=l(5409),m=l(184);const h=()=>{const[e,s]=(0,a.useState)(!0),[l,h]=(0,a.useState)([]),f=(0,n.s0)(),[x,v]=(0,a.useState)(!1),C=JSON.parse(localStorage.getItem("CAPP-local"));(0,a.useEffect)((()=>{if(N(),localStorage.getItem("user")){const{COD_USUARIO:e}=JSON.parse(localStorage.getItem("user"));g(e)}}),[]);const g=async e=>{console.log("avancarEtapasCirurgia",e);const s=JSON.parse(localStorage.getItem("paciente")),l=new Date,a=new Date(l.getTime()),n={avisoCirurgia:s.COD_AVISO,dtEtapa:a,cdEtapa:51,usuario:e,salaCirurgia:C.CODIGO_SALA_CIRURGICA,tipoAcao:"I",sublocalidade:C.CODIGO_SUBLOCALIDADE},t=await d.Z.post("/avancarEtapasCirurgia",n);console.log("avancarEtapasCirurgia",t),localStorage.removeItem("user"),localStorage.removeItem("checklist"),setTimeout(await j(),5e4)},j=async()=>{f("/salaCirurgica/acoes"),localStorage.removeItem("paciente")},N=()=>{d.Z.get("/retornaCirurgiasAgendadasByLocalidade?cd_localidade=4&status=1").then((e=>{const{data:l}=e;h(l),s(!1)}))},O=async e=>{delete e.PROX_ETAPA,delete e.CANCELADO,f("/salaCirurgica/AssinaturaRecebimento",{state:{CODIGO_LOCALIDADE:C.CODIGO_LOCALIDADE,CODIGO_SUB_LOCALIDADE:C.CODIGO_SUBLOCALIDADE,CODIGO_SALA_CIRURGICA:C.CODIGO_SALA_CIRURGICA,CODIGO_PROX_ETAPA:60,...e}})},A=`Sala ${"Hemodinamica"===C.SUBLOCALIDADE?C.SUBLOCALIDADE:C.SUBLOCALIDADE.split(" ")[1]}`;return(0,m.jsxs)(t.Z,{title:o.Q.SALA_CIRURGICA_LISTAGEM.text,children:[(0,m.jsx)(c.Z,{titulo:A,localidade:"Lista de Pacientes",children:(0,m.jsxs)(u.ZP,{children:[(0,m.jsx)(u.Z_,{children:(0,m.jsx)(p.Z,{color:"light",icon:"menu",isLight:!0,children:(0,m.jsx)("p",{children:" "})})}),(0,m.jsx)(u.h_,{children:(0,m.jsx)(u.hP,{onClick:()=>(localStorage.removeItem("CAPP-local"),void f("/")),children:"Alterar Local"})})]})}),(0,m.jsxs)(r.Z,{children:[(0,m.jsx)("div",{children:e?(0,m.jsxs)("div",{className:"lds-ring",children:[(0,m.jsx)("div",{}),(0,m.jsx)("div",{}),(0,m.jsx)("div",{}),(0,m.jsx)("div",{})]}):l.length?l.map((e=>(0,m.jsxs)("div",{className:null==e.CANCELADO?"bloco-paciente":"bloco-paciente-cancelado",onClick:null==e.CANCELADO?()=>O(e):()=>v(!0),onKeyDown:()=>O(e),children:[(0,m.jsx)("div",{className:"fw-bold",children:e.PACIENTE}),(0,m.jsx)("div",{className:"text-muted",children:(0,m.jsx)("small",{children:e.NM_MAE})}),(0,m.jsx)("div",{className:"data_nasc",children:e.DT_NASCIMENTO})]},e.CD_AVISO))):(0,m.jsxs)("div",{className:"d-flex justify-content-center",children:[(0,m.jsx)("br",{}),(0,m.jsx)("br",{}),(0,m.jsx)("h1",{style:{color:"#dfdddd",position:"relative",top:"200px"},children:"N\xe3o h\xe1 paciente"})]})}),(0,m.jsxs)(i.ZP,{id:"modalCancelamentoCirurgia",isOpen:x,titleId:"modalCancelamentoCirurgia",children:[(0,m.jsx)(i.xB,{style:{backgroundColor:"#E5684C"},children:(0,m.jsx)(i.r6,{style:{color:"#fff"},id:"example-title",children:"ALERTA"})}),(0,m.jsx)(i.fe,{className:"ModalBody",children:(0,m.jsx)("h1",{children:"Esta cirurgia foi suspensa!"})}),(0,m.jsx)(i.mz,{children:(0,m.jsx)(p.h,{children:(0,m.jsx)(p.Z,{onClick:()=>v(!1),className:"btn-style",color:"light",children:"Fechar"})})})]})]})]})}}}]);
//# sourceMappingURL=676.08adeda5.chunk.js.map