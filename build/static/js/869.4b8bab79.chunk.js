"use strict";(self.webpackChunkapp_cc=self.webpackChunkapp_cc||[]).push([[869],{2967:(e,s,l)=>{l.d(s,{Z:()=>i,h:()=>o});var n=l(4569),t=l.n(n);const a="https://appcc-api.apps.ham.org.br",r=t().create({baseURL:`${a}`,headers:{"Content-Type":"application/json"}}),o=t().create({baseURL:`${a}`,headers:{"Content-Type":"application/json"}}),i=r},9757:(e,s,l)=>{l.d(s,{Z:()=>t});l(2791);var n=l(184);const t=e=>{let{titulo:s,children:l,localidade:t}=e;return(0,n.jsxs)("header",{children:[(0,n.jsxs)("p",{children:[(0,n.jsxs)("strong",{children:[s," |"]})," ",t]}),(0,n.jsx)("div",{className:"options",children:l})]})}},9775:(e,s,l)=>{l.d(s,{ZP:()=>A,Z_:()=>p,hP:()=>f,h_:()=>m});var n=l(2791),t=l(3229),a=l(2835),r=l(1828),o=l(1694),i=l.n(o),d=l(1245),c=l(6457),u=l(184);const p=e=>{let{children:s,isOpen:l,setIsOpen:a,hasIcon:r}=e;const o=(0,n.useRef)(null),d=(0,n.useCallback)(((e,s)=>(o.current=e,s(e))),[]);return(0,u.jsx)(t.s,{children:e=>{var t;let{ref:o}=e;return n.cloneElement(s.props.isButtonGroup?(0,u.jsx)("span",{className:"visually-hidden",children:"Toggle Dropdown"}):s,{ref:e=>d(e,o),onClick:()=>{var e;null!==s&&void 0!==s&&null!==(e=s.props)&&void 0!==e&&e.onClick&&s.props.onClick(),a(!l)},className:i()({"dropdown-toggle":r,"dropdown-toggle-split":s.props.isButtonGroup,show:l},null===s||void 0===s||null===(t=s.props)||void 0===t?void 0:t.className),"aria-expanded":l})}})};p.defaultProps={isOpen:!1,setIsOpen:null,hasIcon:!0},p.displayName="DropdownToggle";const m=e=>{let{isOpen:s,setIsOpen:l,children:t,className:r,isAlignmentEnd:o,breakpoint:d,size:p,direction:m,isCloseAfterLeave:h,...f}=e;const x=(0,n.useRef)(null),A=(0,n.useCallback)(((e,s)=>(x.current=e,s(e))),[]),j=("up"===m?"top":"end"===m&&"right")||"start"===m&&"left"||"bottom",v=o?"end":"start",{darkModeStatus:O}=(0,c.Z)();return s?(0,u.jsx)(a.r,{placement:d?"bottom-start":`${j}-${v}`,modifiers:[{name:"flip",options:{fallbackPlacements:[`top-${v}`,`bottom-${v}`]}}],children:e=>{let{ref:s,style:n,placement:a}=e;return(0,u.jsx)("ul",{role:"presentation",ref:e=>A(e,s),style:d?null:n,"data-placement":a,className:i()("dropdown-menu","show",{"dropdown-menu-dark":O},{[`dropdown-menu-${p}`]:p,"dropdown-menu-end":!o&&d,[`dropdown-menu${d?`-${d}`:""}-${o?"end":"start"}`]:o||d},r),"data-bs-popper":d?"static":null,onMouseLeave:h?()=>l(!1):null,...f,children:t})}}):null};m.defaultProps={isOpen:!1,setIsOpen:null,className:null,isAlignmentEnd:!1,breakpoint:null,size:null,direction:null,isCloseAfterLeave:!0},m.displayName="DropdownMenu";const h=(0,n.forwardRef)(((e,s)=>{let{children:l,className:n,...t}=e;return(0,u.jsx)("li",{ref:s,className:i()("dropdown-item-wrapper",n),...t,children:l})}));h.defaultProps={className:null};const f=(0,n.forwardRef)(((e,s)=>{var l;let{children:t,isHeader:a,isDivider:r,isText:o,...d}=e;var c,p,m;return a?(0,u.jsx)(h,{ref:s,...d,children:(0,n.cloneElement)("string"===typeof t?(0,u.jsx)("h6",{children:t}):t,{className:i()("dropdown-header",null===t||void 0===t||null===(c=t.props)||void 0===c?void 0:c.className)})}):r?(0,u.jsx)(h,{ref:s,...d,children:(0,u.jsx)("hr",{className:i()("dropdown-divider",null===t||void 0===t||null===(p=t.props)||void 0===p?void 0:p.className)})}):o?(0,u.jsx)(h,{ref:s,...d,children:(0,n.cloneElement)("string"===typeof t?(0,u.jsx)("div",{children:t}):t,{className:i()("dropdown-item-text","dropdown-item","disabled",null===t||void 0===t||null===(m=t.props)||void 0===m?void 0:m.className)})}):(0,u.jsx)(h,{ref:s,...d,children:(0,n.cloneElement)("string"===typeof t?(0,u.jsx)("span",{children:t}):t,{className:i()("dropdown-item",null===t||void 0===t||null===(l=t.props)||void 0===l?void 0:l.className)})})}));f.defaultProps={children:null,isHeader:!1,isDivider:!1,isText:!1};const x=e=>{let{tag:s,children:l,isOpen:t,setIsOpen:a,direction:o,isButtonGroup:c,className:p}=e;const[m,h]=(0,n.useState)(!(null===t||!a)&&t),f=(0,n.useRef)(null),x=(0,n.useCallback)((()=>{null!==t&&a?a(!1):h(!1)}),[t,a]);return(0,d.Z)(f,"mousedown",x),(0,d.Z)(f,"touchstart",x),(0,u.jsx)(r.dK,{children:(0,u.jsx)(s,{ref:f,className:i()({[`drop${o}`]:o&&!c,"btn-group":c},p),children:l.map(((e,s)=>["DropdownMenu","DropdownToggle"].includes(e.type.displayName)?n.cloneElement(e,{isOpen:null!==t&&a?t:m,setIsOpen:null!==t&&a?a:h,direction:o,key:s}):e))})})};x.defaultProps={tag:"div",isOpen:null,setIsOpen:null,className:null,direction:"down",isButtonGroup:!1},x.displayName="Dropdown";const A=x},1477:(e,s,l)=>{l.d(s,{fe:()=>h,mz:()=>f,xB:()=>m,r6:()=>p,ZP:()=>A});var n=l(2791),t=l(1694),a=l.n(t),r=l(1856),o=l(68),i=l(7528),d=l(7097);function c(e,s){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;const t=(0,n.useRef)();(0,n.useEffect)((()=>{t.current=s}),[s]),(0,n.useEffect)((()=>{if(!(l&&l.addEventListener))return;const s=e=>t.current(e);return l.addEventListener(e,s),()=>{l.removeEventListener(e,s)}}),[e,l])}var u=l(184);const p=(0,n.forwardRef)(((e,s)=>{let{tag:l,id:n,children:t,className:r,...o}=e;return(0,u.jsx)(d.Z,{tag:l,ref:s,id:n,className:a()("modal-title",r),...o,children:t})}));p.defaultProps={className:null,tag:"h5"};const m=(0,n.forwardRef)(((e,s)=>{let{children:l,className:n,setIsOpen:t,...r}=e;return(0,u.jsxs)("div",{ref:s,className:a()("modal-header",n),...r,children:[l,t&&(0,u.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>t(!1)})]})}));m.defaultProps={className:null,setIsOpen:null};const h=(0,n.forwardRef)(((e,s)=>{let{children:l,className:n,...t}=e;return(0,u.jsx)("div",{ref:s,className:a()("modal-body",n),...t,children:l})}));h.defaultProps={className:null};const f=(0,n.forwardRef)(((e,s)=>{let{children:l,className:n,...t}=e;return(0,u.jsx)("div",{ref:s,className:a()("modal-footer",n),...t,children:l})}));f.defaultProps={className:null};const x=e=>{let{children:s,isOpen:l,setIsOpen:t,id:d,titleId:p,isStaticBackdrop:m,isScrollable:h,isCentered:f,size:x,fullScreen:A,isAnimation:j,...v}=e;const O=(0,n.useRef)(null),C=(0,n.useRef)(null);(0,n.useLayoutEffect)((()=>(l&&document.body.classList.add("modal-open"),()=>{document.body.classList.remove("modal-open")})));const N=e=>{!C.current||C.current.contains(e.target)||m||t(!1)};c("mousedown",N),c("touchstart",N);const b=e=>{C.current&&!C.current.contains(e.target)&&m&&(O.current.classList.add("modal-static"),setTimeout((()=>O.current.classList.remove("modal-static")),300))};c("mousedown",b),c("touchstart",b);c("keydown",(e=>{"Escape"===e.key&&t(!1)}));const g=j?{initial:{opacity:0,y:"-50%"},animate:{opacity:1,x:"0%",y:"0%"},exit:{opacity:0,y:"-50%"},transition:{ease:"easeInOut",duration:.3}}:null;return(0,u.jsx)(i.Z,{children:(0,u.jsx)(r.M,{exitBeforeEnter:!0,children:l&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(o.E.div,{ref:O,className:a()("modal",{fade:j},"show"),role:"dialog",style:{display:"block"},id:d,tabIndex:"-1","aria-labelledby":p,"aria-hidden":"true","data-bs-backdrop":m?"static":null,"data-bs-keyboard":m?"false":null,...g,...v,children:(0,u.jsx)("div",{ref:C,className:a()("modal-dialog",{"modal-dialog-scrollable":h,"modal-dialog-centered":f,[`modal-${x}`]:x,["modal-fullscreen"+("string"===typeof A?`-${A}-down`:"")]:A}),children:(0,u.jsx)("div",{className:"modal-content",children:s})})},"modal"),(0,u.jsx)("div",{className:a()("modal-backdrop",{fade:j},"show")})]})})})};x.defaultProps={id:null,titleId:null,isStaticBackdrop:!1,isScrollable:!1,isCentered:!1,size:null,fullScreen:!1,isAnimation:!0};const A=x},3869:(e,s,l)=>{l.r(s),l.d(s,{default:()=>f});var n=l(2791),t=l(6871),a=l(2967),r=l(6631),o=l(1006),i=l(840),d=l(5409),c=l(1477),u=l(1649),p=l(9757),m=l(9775),h=l(184);const f=()=>{const e=(0,t.s0)(),s=(0,t.TH)(),[l,f]=(0,n.useState)([]),[x,A]=(0,n.useState)(!0),[j,v]=(0,n.useState)(null),[O,C]=(0,n.useState)(null),[N,b]=(0,n.useState)(Date.now()),[g,D]=(0,n.useState)(!1),{setInfoPaciente:P}=(0,n.useContext)(r.o),[E,I]=(0,n.useState)(!1),[w,y]=(0,n.useState)(!1),[_,L]=(0,n.useState)(!1),[S,k]=(0,n.useState)(!1),[T,R]=(0,n.useState)(!1),Z=(0,n.useRef)(null);(0,n.useEffect)((()=>{v(s.state.CODIGO_LOCALIDADE),C(s.state.CODIGO_SUBLOCALIDADE),D(!0);const e=setInterval((()=>{b(Date.now()),D(!1)}),6e4);return()=>{B(2),clearInterval(e)}}),[s,e,O,N,Z]);const $=e=>{"transferir"===e&&(f([]),B(1),L(!0),I(!1)),"receber"===e&&(f([]),B(2),L(!1),k(!0))},B=async e=>{if(D(!0),1===e){try{A(!0);const e=await a.Z.get("/PacientesAReceberPreparo?TIPO=t");f(e.data),L(!1),I(!1),y(!0)}catch(s){console.log(s)}A(!1)}else if(2===e){try{A(!0);const e=await a.Z.get("/PacientesAReceberPreparo?TIPO=r");f(e.data),I(!0),y(!1),k(!1)}catch(s){console.log(s)}A(!1)}},G=async s=>{try{await a.Z.get(`/retornaProximaEtapa?cd_localidade=${j}&cod_aviso=${s.COD_AVISO}`)&&(P({CODIGO_LOCALIDADE:j,CODIGO_SUB_LOCALIDADE:O,DADOS:s,INFO_PROX_ETAPA:{PROX_ETAPA:{CD_LOCALIDADE:1,CD_ETAPA:s.CD_ETAPA,COD_AVISO:s.COD_AVISO,PROX_ETAPA:s.PROX_ETAPA}}}),e("/salaPreparo/recebimento",{state:{CODIGO_LOCALIDADE:j,CODIGO_SUB_LOCALIDADE:O,DADOS:s,INFO_PROX_ETAPA:{PROX_ETAPA:{CD_LOCALIDADE:1,CD_ETAPA:s.CD_ETAPA,COD_AVISO:s.COD_AVISO,PROX_ETAPA:s.PROX_ETAPA}}}}))}catch(l){console.log(l)}};return(0,h.jsxs)(o.Z,{title:u.Q.PREPARO_LISTAGEM.text,children:[(0,h.jsx)(p.Z,{titulo:"Sala de Preparo",localidade:"Lista de Pacientes",children:(0,h.jsxs)(m.ZP,{children:[(0,h.jsx)(m.Z_,{children:(0,h.jsx)(d.Z,{color:"light",icon:"menu",isLight:!0,children:(0,h.jsx)("p",{children:" "})})}),(0,h.jsx)(m.h_,{children:(0,h.jsx)(m.hP,{onClick:()=>(localStorage.removeItem("CAPP-local"),void e("/")),children:"Alterar Local"})})]})}),(0,h.jsxs)(i.Z,{children:[(0,h.jsx)("div",{className:"position-filter",children:g&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(d.Z,{size:"lg",rounded:3,disabled:_,color:"info",isActive:E,isLight:!0,onClick:()=>$("receber"),children:"Receber"}),(0,h.jsx)(d.Z,{size:"lg",id:"btnTodos",rounded:3,disabled:S,style:{margin:"3px"},color:"info",isActive:w,isLight:!0,onClick:()=>$("transferir"),children:"Transferir"})]})}),(0,h.jsx)("br",{}),(0,h.jsx)("div",{children:x?(0,h.jsxs)("div",{className:"lds-ring",children:[(0,h.jsx)("div",{}),(0,h.jsx)("div",{}),(0,h.jsx)("div",{}),(0,h.jsx)("div",{})]}):l.length?l.map((e=>(0,h.jsxs)("div",{className:null==e.CANCELADO?"bloco-paciente":"bloco-paciente-cancelado",onClick:null==e.CANCELADO?()=>G(e):()=>R(!0),onKeyDown:()=>G(e),children:[(0,h.jsx)("div",{className:"fw-bold",children:e.PACIENTE}),(0,h.jsx)("div",{className:"text-muted",children:(0,h.jsx)("small",{style:{color:null!=e.CANCELADO&&"#fff"},children:e.NM_MAE})}),(0,h.jsxs)("div",{className:"data_nasc",children:[e.DT_NASCIMENTO,null!=e.CANCELADO&&(0,h.jsx)("input",{className:"btn-info-susp-cir",type:"button",value:"SUSPENSA"})]})]},e.CD_AVISO))):(0,h.jsxs)("div",{className:"d-flex justify-content-center",children:[(0,h.jsx)("br",{}),(0,h.jsx)("br",{}),(0,h.jsx)("div",{className:"lista-vazia",children:(0,h.jsx)("h1",{children:"N\xe3o h\xe1 paciente!"})})]})}),(0,h.jsxs)(c.ZP,{id:"modalCancelamentoCirurgia",isOpen:T,titleId:"modalCancelamentoCirurgia",children:[(0,h.jsx)(c.xB,{style:{backgroundColor:"#E5684C"},children:(0,h.jsx)(c.r6,{style:{color:"#fff"},id:"example-title",children:"ALERTA"})}),(0,h.jsx)(c.fe,{className:"ModalBody",children:(0,h.jsx)("h1",{children:"Esta cirurgia foi suspensa!"})}),(0,h.jsx)(c.mz,{children:(0,h.jsx)(d.h,{children:(0,h.jsx)(d.Z,{onClick:()=>R(!1),className:"btn-style",color:"light",children:"Fechar"})})})]})]})]})}}}]);
//# sourceMappingURL=869.4b8bab79.chunk.js.map