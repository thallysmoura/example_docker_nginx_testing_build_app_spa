"use strict";(self.webpackChunkapp_cc=self.webpackChunkapp_cc||[]).push([[88],{2967:(e,s,l)=>{l.d(s,{Z:()=>o,h:()=>i});var a=l(4569),t=l.n(a);const n="https://appcc-api.apps.ham.org.br",r=t().create({baseURL:`${n}`,headers:{"Content-Type":"application/json"}}),i=t().create({baseURL:`${n}`,headers:{"Content-Type":"application/json"}}),o=r},9757:(e,s,l)=>{l.d(s,{Z:()=>t});l(2791);var a=l(184);const t=e=>{let{titulo:s,children:l,localidade:t}=e;return(0,a.jsxs)("header",{children:[(0,a.jsxs)("p",{children:[(0,a.jsxs)("strong",{children:[s," |"]})," ",t]}),(0,a.jsx)("div",{className:"options",children:l})]})}},9775:(e,s,l)=>{l.d(s,{ZP:()=>f,Z_:()=>m,hP:()=>x,h_:()=>h});var a=l(2791),t=l(3229),n=l(2835),r=l(1828),i=l(1694),o=l.n(i),d=l(1245),c=l(6457),u=l(184);const m=e=>{let{children:s,isOpen:l,setIsOpen:n,hasIcon:r}=e;const i=(0,a.useRef)(null),d=(0,a.useCallback)(((e,s)=>(i.current=e,s(e))),[]);return(0,u.jsx)(t.s,{children:e=>{var t;let{ref:i}=e;return a.cloneElement(s.props.isButtonGroup?(0,u.jsx)("span",{className:"visually-hidden",children:"Toggle Dropdown"}):s,{ref:e=>d(e,i),onClick:()=>{var e;null!==s&&void 0!==s&&null!==(e=s.props)&&void 0!==e&&e.onClick&&s.props.onClick(),n(!l)},className:o()({"dropdown-toggle":r,"dropdown-toggle-split":s.props.isButtonGroup,show:l},null===s||void 0===s||null===(t=s.props)||void 0===t?void 0:t.className),"aria-expanded":l})}})};m.defaultProps={isOpen:!1,setIsOpen:null,hasIcon:!0},m.displayName="DropdownToggle";const h=e=>{let{isOpen:s,setIsOpen:l,children:t,className:r,isAlignmentEnd:i,breakpoint:d,size:m,direction:h,isCloseAfterLeave:p,...x}=e;const j=(0,a.useRef)(null),f=(0,a.useCallback)(((e,s)=>(j.current=e,s(e))),[]),C=("up"===h?"top":"end"===h&&"right")||"start"===h&&"left"||"bottom",A=i?"end":"start",{darkModeStatus:O}=(0,c.Z)();return s?(0,u.jsx)(n.r,{placement:d?"bottom-start":`${C}-${A}`,modifiers:[{name:"flip",options:{fallbackPlacements:[`top-${A}`,`bottom-${A}`]}}],children:e=>{let{ref:s,style:a,placement:n}=e;return(0,u.jsx)("ul",{role:"presentation",ref:e=>f(e,s),style:d?null:a,"data-placement":n,className:o()("dropdown-menu","show",{"dropdown-menu-dark":O},{[`dropdown-menu-${m}`]:m,"dropdown-menu-end":!i&&d,[`dropdown-menu${d?`-${d}`:""}-${i?"end":"start"}`]:i||d},r),"data-bs-popper":d?"static":null,onMouseLeave:p?()=>l(!1):null,...x,children:t})}}):null};h.defaultProps={isOpen:!1,setIsOpen:null,className:null,isAlignmentEnd:!1,breakpoint:null,size:null,direction:null,isCloseAfterLeave:!0},h.displayName="DropdownMenu";const p=(0,a.forwardRef)(((e,s)=>{let{children:l,className:a,...t}=e;return(0,u.jsx)("li",{ref:s,className:o()("dropdown-item-wrapper",a),...t,children:l})}));p.defaultProps={className:null};const x=(0,a.forwardRef)(((e,s)=>{var l;let{children:t,isHeader:n,isDivider:r,isText:i,...d}=e;var c,m,h;return n?(0,u.jsx)(p,{ref:s,...d,children:(0,a.cloneElement)("string"===typeof t?(0,u.jsx)("h6",{children:t}):t,{className:o()("dropdown-header",null===t||void 0===t||null===(c=t.props)||void 0===c?void 0:c.className)})}):r?(0,u.jsx)(p,{ref:s,...d,children:(0,u.jsx)("hr",{className:o()("dropdown-divider",null===t||void 0===t||null===(m=t.props)||void 0===m?void 0:m.className)})}):i?(0,u.jsx)(p,{ref:s,...d,children:(0,a.cloneElement)("string"===typeof t?(0,u.jsx)("div",{children:t}):t,{className:o()("dropdown-item-text","dropdown-item","disabled",null===t||void 0===t||null===(h=t.props)||void 0===h?void 0:h.className)})}):(0,u.jsx)(p,{ref:s,...d,children:(0,a.cloneElement)("string"===typeof t?(0,u.jsx)("span",{children:t}):t,{className:o()("dropdown-item",null===t||void 0===t||null===(l=t.props)||void 0===l?void 0:l.className)})})}));x.defaultProps={children:null,isHeader:!1,isDivider:!1,isText:!1};const j=e=>{let{tag:s,children:l,isOpen:t,setIsOpen:n,direction:i,isButtonGroup:c,className:m}=e;const[h,p]=(0,a.useState)(!(null===t||!n)&&t),x=(0,a.useRef)(null),j=(0,a.useCallback)((()=>{null!==t&&n?n(!1):p(!1)}),[t,n]);return(0,d.Z)(x,"mousedown",j),(0,d.Z)(x,"touchstart",j),(0,u.jsx)(r.dK,{children:(0,u.jsx)(s,{ref:x,className:o()({[`drop${i}`]:i&&!c,"btn-group":c},m),children:l.map(((e,s)=>["DropdownMenu","DropdownToggle"].includes(e.type.displayName)?a.cloneElement(e,{isOpen:null!==t&&n?t:h,setIsOpen:null!==t&&n?n:p,direction:i,key:s}):e))})})};j.defaultProps={tag:"div",isOpen:null,setIsOpen:null,className:null,direction:"down",isButtonGroup:!1},j.displayName="Dropdown";const f=j},1477:(e,s,l)=>{l.d(s,{fe:()=>p,mz:()=>x,xB:()=>h,r6:()=>m,ZP:()=>f});var a=l(2791),t=l(1694),n=l.n(t),r=l(1856),i=l(68),o=l(7528),d=l(7097);function c(e,s){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;const t=(0,a.useRef)();(0,a.useEffect)((()=>{t.current=s}),[s]),(0,a.useEffect)((()=>{if(!(l&&l.addEventListener))return;const s=e=>t.current(e);return l.addEventListener(e,s),()=>{l.removeEventListener(e,s)}}),[e,l])}var u=l(184);const m=(0,a.forwardRef)(((e,s)=>{let{tag:l,id:a,children:t,className:r,...i}=e;return(0,u.jsx)(d.Z,{tag:l,ref:s,id:a,className:n()("modal-title",r),...i,children:t})}));m.defaultProps={className:null,tag:"h5"};const h=(0,a.forwardRef)(((e,s)=>{let{children:l,className:a,setIsOpen:t,...r}=e;return(0,u.jsxs)("div",{ref:s,className:n()("modal-header",a),...r,children:[l,t&&(0,u.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>t(!1)})]})}));h.defaultProps={className:null,setIsOpen:null};const p=(0,a.forwardRef)(((e,s)=>{let{children:l,className:a,...t}=e;return(0,u.jsx)("div",{ref:s,className:n()("modal-body",a),...t,children:l})}));p.defaultProps={className:null};const x=(0,a.forwardRef)(((e,s)=>{let{children:l,className:a,...t}=e;return(0,u.jsx)("div",{ref:s,className:n()("modal-footer",a),...t,children:l})}));x.defaultProps={className:null};const j=e=>{let{children:s,isOpen:l,setIsOpen:t,id:d,titleId:m,isStaticBackdrop:h,isScrollable:p,isCentered:x,size:j,fullScreen:f,isAnimation:C,...A}=e;const O=(0,a.useRef)(null),D=(0,a.useRef)(null);(0,a.useLayoutEffect)((()=>(l&&document.body.classList.add("modal-open"),()=>{document.body.classList.remove("modal-open")})));const N=e=>{!D.current||D.current.contains(e.target)||h||t(!1)};c("mousedown",N),c("touchstart",N);const g=e=>{D.current&&!D.current.contains(e.target)&&h&&(O.current.classList.add("modal-static"),setTimeout((()=>O.current.classList.remove("modal-static")),300))};c("mousedown",g),c("touchstart",g);c("keydown",(e=>{"Escape"===e.key&&t(!1)}));const P=C?{initial:{opacity:0,y:"-50%"},animate:{opacity:1,x:"0%",y:"0%"},exit:{opacity:0,y:"-50%"},transition:{ease:"easeInOut",duration:.3}}:null;return(0,u.jsx)(o.Z,{children:(0,u.jsx)(r.M,{exitBeforeEnter:!0,children:l&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(i.E.div,{ref:O,className:n()("modal",{fade:C},"show"),role:"dialog",style:{display:"block"},id:d,tabIndex:"-1","aria-labelledby":m,"aria-hidden":"true","data-bs-backdrop":h?"static":null,"data-bs-keyboard":h?"false":null,...P,...A,children:(0,u.jsx)("div",{ref:D,className:n()("modal-dialog",{"modal-dialog-scrollable":p,"modal-dialog-centered":x,[`modal-${j}`]:j,["modal-fullscreen"+("string"===typeof f?`-${f}-down`:"")]:f}),children:(0,u.jsx)("div",{className:"modal-content",children:s})})},"modal"),(0,u.jsx)("div",{className:n()("modal-backdrop",{fade:C},"show")})]})})})};j.defaultProps={id:null,titleId:null,isStaticBackdrop:!1,isScrollable:!1,isCentered:!1,size:null,fullScreen:!1,isAnimation:!0};const f=j},5088:(e,s,l)=>{l.r(s),l.d(s,{default:()=>f});var a=l(2791),t=l(6871),n=l(6864),r=l(2967),i=l(1006),o=l(840),d=l(1649),c=l(9757),u=l(1477),m=l(9775),h=l(5409),p=l(1595),x=l(4455),j=l(184);const f=()=>{const e=(0,t.TH)(),s=(0,t.s0)(),[l,f]=(0,a.useState)([]),[C,A]=(0,a.useState)([]),[O,D]=(0,a.useState)(!1),[N,g]=(0,a.useState)([]),[P,v]=(0,a.useState)(null),[E,y]=(0,a.useState)(!1),[S,b]=(0,a.useState)(!1),[I,_]=(0,a.useState)(!1);(0,a.useEffect)((()=>{T(e.state.INFO_PROX_ETAPA.PROX_ETAPA.CD_ETAPA,e.state.INFO_PROX_ETAPA.PROX_ETAPA.COD_AVISO)}),[e]);const T=async(e,s)=>{try{const l=await r.Z.get(`/listaOpcoesCheckListPreparo?cd_etapa=${e}&cd_aviso=${s}`);A(l.data.sort(((e,s)=>e.CD_PERGUNTA-s.CD_PERGUNTA)))}catch(l){console.log(l)}},[R,k]=(0,a.useState)(0),w=async(e,s,l,a,t,n)=>(f((r=>[...r,{CdPergunta:e,Pergunta:s,Resposta:a,CodResposta:l,TpCampo:t,CodAviso:n,Usuario:""}])),k(R+1),!0),Z=async()=>{try{const e=(await r.Z.get("/retornaDataAtual")).data.DATA,s=new Date(document.getElementById("data").value).getTime();if(s>new Date(e).getTime())return void y(!0)}catch(a){console.log(a)}R>=C.length?s("/salaPreparo/assinatura",{state:{CODIGO_LOCALIDADE:e.state.CODIGO_LOCALIDADE,CODIGO_SUB_LOCALIDADE:e.state.CODIGO_SUB_LOCALIDADE,DADOS:e.state.DADOS,INFO_PROX_ETAPA:{PROX_ETAPA:e.state.INFO_PROX_ETAPA.PROX_ETAPA},CHECKLIST:l}}):b(!0)},L=(0,n.TA)({initialValues:{eventStart:"15:51:00"},onSubmit:()=>{L.setValues({})}});return(0,j.jsxs)(i.Z,{title:d.Q.PREPARO_RECEBIMENTO.text,children:[(0,j.jsx)(c.Z,{titulo:"Sala de Preparo",localidade:"Checklist",children:(0,j.jsxs)(m.ZP,{children:[(0,j.jsx)(m.Z_,{children:(0,j.jsx)(h.Z,{color:"light",icon:"menu",isLight:!0,id:"menu",children:(0,j.jsx)("p",{children:" "})})}),(0,j.jsxs)(m.h_,{children:[(0,j.jsx)(m.hP,{onClick:()=>(localStorage.removeItem("CAPP-local"),void s("/")),children:"Alterar Local"}),(0,j.jsx)(m.hP,{onClick:()=>{(async()=>{const e=await r.Z.get("/motivosCancelamentoCirurgia");g(e.data)})(),D(!0),document.getElementById("menu").click()},children:"Suspender Cirurgia"}),e.state.DADOS.CD_ETAPA>=20&&(0,j.jsx)(m.hP,{onClick:()=>_(!0),children:"Desfazer etapa do Paciente"})]})]})}),(0,j.jsxs)(o.Z,{children:[(0,j.jsx)("br",{}),(0,j.jsx)("div",{children:(0,j.jsxs)(p.ZP,{children:[(0,j.jsx)(p.Ol,{className:"header-card-paciente",children:(0,j.jsx)(p.ll,{className:"header-nome-paciente",children:e.state.DADOS.PACIENTE})}),(0,j.jsx)(p.eW,{children:(0,j.jsxs)("div",{className:"bloco-info-paciente-preparo",style:{backgroundColor:"#fff !important"},children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(x.Z,{icon:"person",size:"8x",forceFamily:"material"}),(0,j.jsx)("br",{}),e.state.DADOS.NM_PRESTADOR]}),(0,j.jsxs)("div",{style:{width:"600px"},children:[(0,j.jsx)(x.Z,{icon:"health_and_safety",size:"8x",forceFamily:"material"}),(0,j.jsx)("br",{}),e.state.DADOS.CIRURGIA]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(x.Z,{icon:"schedule",size:"8x",forceFamily:"material"}),(0,j.jsx)("br",{}),e.state.DADOS.PREVISAO_INICIO]})]})})]})}),(0,j.jsxs)("div",{children:[(0,j.jsxs)(p.ZP,{children:[(0,j.jsx)(p.Ol,{className:"header-card-checklist",children:(0,j.jsx)(p.ll,{className:"header-checklist",children:"Checklist:"})}),(0,j.jsx)(p.eW,{children:(0,j.jsx)("div",{children:(0,j.jsx)(i.Z,{children:(0,j.jsx)(o.Z,{children:(0,j.jsx)("table",{className:"table-modern ",children:(0,j.jsx)("tbody",{children:C.length?C.map((s=>(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{className:"fw-bold",children:(0,j.jsx)("h2",{children:s.DS_PERGUNTA})}),s.PERGUNTAS.map((l=>(0,j.jsxs)("th",{scope:"row",children:["RADIO"===l.TP_CAMPO&&(0,j.jsxs)("label",{children:[(0,j.jsx)("input",{type:"radio",className:"radio-preparo",style:{border:`10px solid #${l.COR}`},id:l.CD_RESPOSTA,name:s.CD_PERGUNTA,value:l.DS_RESPOSTA,onChange:a=>w(s.CD_PERGUNTA,s.DS_PERGUNTA,l.CD_RESPOSTA,a.target.defaultValue,"RADIO",e.state.DADOS.COD_AVISO)}),(0,j.jsx)("div",{className:"ds-resposta",children:l.DS_RESPOSTA})]}),"TIME"===l.TP_CAMPO&&(0,j.jsx)("input",{className:"input-time",type:"time",id:"data",name:"date",onChange:s=>w(null,"In\xedcio Jejum",null,s.target.value,"DATATIME",e.state.DADOS.COD_AVISO)}),"DATATIME"===l.TP_CAMPO&&(0,j.jsx)("input",{className:"input-datatime",max:(new Date).toISOString().slice(0,(new Date).toISOString().lastIndexOf(":")),style:{maxWidth:"250px"},type:"datetime-local",id:"data",name:"date",onChange:a=>w(s.CD_PERGUNTA,"In\xedcio Jejum",l.CD_RESPOSTA,a.target.value,"DATATIME",e.state.DADOS.COD_AVISO)})]})))]},s.CD_PERGUNTA))):(0,j.jsx)("p",{children:"Carregando..."})})})})})})})]}),(0,j.jsx)("div",{className:"btn-continue",children:20!==e.state.DADOS.CD_ETAPA?(0,j.jsx)(h.Z,{color:"success",className:"btn-sucess",onClick:()=>Z(),children:(0,j.jsx)(x.Z,{icon:"check",color:"#fff",size:"6x",forceFamily:"material"})}):(0,j.jsxs)(h.Z,{onClick:()=>Z(),color:"dark",children:[(0,j.jsx)(x.Z,{icon:"Logout",color:"#fff",size:"3x",forceFamily:"material"}),(0,j.jsx)("h3",{children:"Sala C.C"})]})}),(0,j.jsx)("div",{className:"btn-back-checklist",children:(0,j.jsx)(x.Z,{onClick:()=>window.history.go(-1),icon:"reply",color:"#fff",size:"10x",forceFamily:"material"})})]}),(0,j.jsxs)(u.ZP,{id:"modalCancelamentoCirurgia",isOpen:O,titleId:"modalCancelamentoCirurgia",children:[(0,j.jsx)(u.xB,{style:{backgroundColor:"#FECE64"},children:(0,j.jsx)(u.r6,{style:{color:"#fff"},id:"example-title",children:"Confirma a Suspens\xe3o da Cirurgia?"})}),(0,j.jsxs)(u.fe,{className:"ModalBody",children:[(0,j.jsx)("h3",{children:"Informe o motivo:"}),(0,j.jsx)("br",{}),(0,j.jsxs)("select",{onChange:e=>v(e.target.value),name:"motivos",id:"motivos",children:[(0,j.jsx)("option",{value:"Selecione",children:"Selecione"}),N.map((e=>(0,j.jsx)("option",{value:e.CD_MOT_CANC,children:e.DS_MOT_CANC},e.CD_MOT_CANC)))]})]}),(0,j.jsx)(u.mz,{children:(0,j.jsxs)(h.h,{children:[(0,j.jsx)(h.Z,{className:"btn-style",color:"light",onClick:()=>{D(!1)},children:"Cancelar"}),(0,j.jsx)(h.Z,{onClick:()=>{null===P?alert("Preencha o motivo da suspens\xe3o da cirurgia antes de concluir."):s("/salaPreparo/AssinaturaAlteracoes",{state:{TP_ACAO:"CANCELAR_CIRURGIA",COD_AVISO:e.state.DADOS.COD_AVISO,MOTIVO:P,DADOS:{DADOS:e.state.DADOS}}})},className:"btn-style",color:"success",children:"Confirmar"})]})})]}),(0,j.jsxs)(u.ZP,{id:"modalHorarioJejum",isCentered:!0,isOpen:E,titleId:"modalHorarioJejum",children:[(0,j.jsx)(u.xB,{style:{backgroundColor:"#FECE64"},children:(0,j.jsx)(u.r6,{style:{color:"#fff"},children:"ALERTA"})}),(0,j.jsxs)(u.fe,{className:"ModalBody",children:[(0,j.jsx)("h3",{children:"O hor\xe1rio de in\xedcio de jejum n\xe3o pode ser superior que o hor\xe1rio atual."}),(0,j.jsx)("br",{})]}),(0,j.jsx)(u.mz,{children:(0,j.jsx)(h.h,{children:(0,j.jsx)(h.Z,{className:"btn-style",color:"light",onClick:()=>{y(!1)},children:"FECHAR"})})})]}),(0,j.jsxs)(u.ZP,{isCentered:!0,isOpen:I,isAnimation:!1,is:!0,children:[(0,j.jsx)(u.xB,{style:{backgroundColor:"#FECE64"},children:(0,j.jsx)(u.r6,{style:{color:"#fff"},children:"ALERTA"})}),(0,j.jsxs)(u.fe,{className:"ModalBody",children:[(0,j.jsx)("h3",{children:"Voc\xea realmente confirma desfazer etapa do Paciente?"}),(0,j.jsx)("br",{})]}),(0,j.jsxs)(u.mz,{children:[(0,j.jsx)(h.Z,{className:"btn-style",size:"lg",color:"light",onClick:()=>{_(!1)},children:"FECHAR"}),(0,j.jsx)(h.Z,{className:"btn-style",size:"lg",color:"success",onClick:()=>{s("/salaPreparo/AssinaturaDesfazerEtapa",{state:{DADOS:e.state.DADOS}})},children:"CONFIRMAR"})]})]}),(0,j.jsxs)(u.ZP,{id:"modalCamposObrigatorios",isCentered:!0,isOpen:S,titleId:"modalCamposObrigatorios",children:[(0,j.jsx)(u.xB,{style:{backgroundColor:"#FECE64"},children:(0,j.jsx)(u.r6,{style:{color:"#fff"},children:"ALERTA"})}),(0,j.jsxs)(u.fe,{className:"ModalBody",children:[(0,j.jsx)("h3",{children:"Informe o in\xedcio de jejum do paciente."}),(0,j.jsx)("br",{})]}),(0,j.jsx)(u.mz,{children:(0,j.jsx)(h.h,{children:(0,j.jsx)(h.Z,{className:"btn-style",color:"light",onClick:()=>{b(!1)},children:"FECHAR"})})})]})]})]})}}}]);
//# sourceMappingURL=88.eae70e61.chunk.js.map