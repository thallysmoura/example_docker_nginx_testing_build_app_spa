"use strict";(self.webpackChunkapp_cc=self.webpackChunkapp_cc||[]).push([[950],{2967:(e,t,s)=>{s.d(t,{Z:()=>o,h:()=>r});var a=s(4569),l=s.n(a);const n="https://appcc-api.apps.ham.org.br",i=l().create({baseURL:`${n}`,headers:{"Content-Type":"application/json"}}),r=l().create({baseURL:`${n}`,headers:{"Content-Type":"application/json"}}),o=i},9757:(e,t,s)=>{s.d(t,{Z:()=>l});s(2791);var a=s(184);const l=e=>{let{titulo:t,children:s,localidade:l}=e;return(0,a.jsxs)("header",{children:[(0,a.jsxs)("p",{children:[(0,a.jsxs)("strong",{children:[t," |"]})," ",l]}),(0,a.jsx)("div",{className:"options",children:s})]})}},9775:(e,t,s)=>{s.d(t,{ZP:()=>O,Z_:()=>p,hP:()=>I,h_:()=>m});var a=s(2791),l=s(3229),n=s(2835),i=s(1828),r=s(1694),o=s.n(r),d=s(1245),c=s(6457),u=s(184);const p=e=>{let{children:t,isOpen:s,setIsOpen:n,hasIcon:i}=e;const r=(0,a.useRef)(null),d=(0,a.useCallback)(((e,t)=>(r.current=e,t(e))),[]);return(0,u.jsx)(l.s,{children:e=>{var l;let{ref:r}=e;return a.cloneElement(t.props.isButtonGroup?(0,u.jsx)("span",{className:"visually-hidden",children:"Toggle Dropdown"}):t,{ref:e=>d(e,r),onClick:()=>{var e;null!==t&&void 0!==t&&null!==(e=t.props)&&void 0!==e&&e.onClick&&t.props.onClick(),n(!s)},className:o()({"dropdown-toggle":i,"dropdown-toggle-split":t.props.isButtonGroup,show:s},null===t||void 0===t||null===(l=t.props)||void 0===l?void 0:l.className),"aria-expanded":s})}})};p.defaultProps={isOpen:!1,setIsOpen:null,hasIcon:!0},p.displayName="DropdownToggle";const m=e=>{let{isOpen:t,setIsOpen:s,children:l,className:i,isAlignmentEnd:r,breakpoint:d,size:p,direction:m,isCloseAfterLeave:A,...I}=e;const h=(0,a.useRef)(null),O=(0,a.useCallback)(((e,t)=>(h.current=e,t(e))),[]),C=("up"===m?"top":"end"===m&&"right")||"start"===m&&"left"||"bottom",g=r?"end":"start",{darkModeStatus:x}=(0,c.Z)();return t?(0,u.jsx)(n.r,{placement:d?"bottom-start":`${C}-${g}`,modifiers:[{name:"flip",options:{fallbackPlacements:[`top-${g}`,`bottom-${g}`]}}],children:e=>{let{ref:t,style:a,placement:n}=e;return(0,u.jsx)("ul",{role:"presentation",ref:e=>O(e,t),style:d?null:a,"data-placement":n,className:o()("dropdown-menu","show",{"dropdown-menu-dark":x},{[`dropdown-menu-${p}`]:p,"dropdown-menu-end":!r&&d,[`dropdown-menu${d?`-${d}`:""}-${r?"end":"start"}`]:r||d},i),"data-bs-popper":d?"static":null,onMouseLeave:A?()=>s(!1):null,...I,children:l})}}):null};m.defaultProps={isOpen:!1,setIsOpen:null,className:null,isAlignmentEnd:!1,breakpoint:null,size:null,direction:null,isCloseAfterLeave:!0},m.displayName="DropdownMenu";const A=(0,a.forwardRef)(((e,t)=>{let{children:s,className:a,...l}=e;return(0,u.jsx)("li",{ref:t,className:o()("dropdown-item-wrapper",a),...l,children:s})}));A.defaultProps={className:null};const I=(0,a.forwardRef)(((e,t)=>{var s;let{children:l,isHeader:n,isDivider:i,isText:r,...d}=e;var c,p,m;return n?(0,u.jsx)(A,{ref:t,...d,children:(0,a.cloneElement)("string"===typeof l?(0,u.jsx)("h6",{children:l}):l,{className:o()("dropdown-header",null===l||void 0===l||null===(c=l.props)||void 0===c?void 0:c.className)})}):i?(0,u.jsx)(A,{ref:t,...d,children:(0,u.jsx)("hr",{className:o()("dropdown-divider",null===l||void 0===l||null===(p=l.props)||void 0===p?void 0:p.className)})}):r?(0,u.jsx)(A,{ref:t,...d,children:(0,a.cloneElement)("string"===typeof l?(0,u.jsx)("div",{children:l}):l,{className:o()("dropdown-item-text","dropdown-item","disabled",null===l||void 0===l||null===(m=l.props)||void 0===m?void 0:m.className)})}):(0,u.jsx)(A,{ref:t,...d,children:(0,a.cloneElement)("string"===typeof l?(0,u.jsx)("span",{children:l}):l,{className:o()("dropdown-item",null===l||void 0===l||null===(s=l.props)||void 0===s?void 0:s.className)})})}));I.defaultProps={children:null,isHeader:!1,isDivider:!1,isText:!1};const h=e=>{let{tag:t,children:s,isOpen:l,setIsOpen:n,direction:r,isButtonGroup:c,className:p}=e;const[m,A]=(0,a.useState)(!(null===l||!n)&&l),I=(0,a.useRef)(null),h=(0,a.useCallback)((()=>{null!==l&&n?n(!1):A(!1)}),[l,n]);return(0,d.Z)(I,"mousedown",h),(0,d.Z)(I,"touchstart",h),(0,u.jsx)(i.dK,{children:(0,u.jsx)(t,{ref:I,className:o()({[`drop${r}`]:r&&!c,"btn-group":c},p),children:s.map(((e,t)=>["DropdownMenu","DropdownToggle"].includes(e.type.displayName)?a.cloneElement(e,{isOpen:null!==l&&n?l:m,setIsOpen:null!==l&&n?n:A,direction:r,key:t}):e))})})};h.defaultProps={tag:"div",isOpen:null,setIsOpen:null,className:null,direction:"down",isButtonGroup:!1},h.displayName="Dropdown";const O=h},1477:(e,t,s)=>{s.d(t,{fe:()=>A,mz:()=>I,xB:()=>m,r6:()=>p,ZP:()=>O});var a=s(2791),l=s(1694),n=s.n(l),i=s(1856),r=s(68),o=s(7528),d=s(7097);function c(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;const l=(0,a.useRef)();(0,a.useEffect)((()=>{l.current=t}),[t]),(0,a.useEffect)((()=>{if(!(s&&s.addEventListener))return;const t=e=>l.current(e);return s.addEventListener(e,t),()=>{s.removeEventListener(e,t)}}),[e,s])}var u=s(184);const p=(0,a.forwardRef)(((e,t)=>{let{tag:s,id:a,children:l,className:i,...r}=e;return(0,u.jsx)(d.Z,{tag:s,ref:t,id:a,className:n()("modal-title",i),...r,children:l})}));p.defaultProps={className:null,tag:"h5"};const m=(0,a.forwardRef)(((e,t)=>{let{children:s,className:a,setIsOpen:l,...i}=e;return(0,u.jsxs)("div",{ref:t,className:n()("modal-header",a),...i,children:[s,l&&(0,u.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>l(!1)})]})}));m.defaultProps={className:null,setIsOpen:null};const A=(0,a.forwardRef)(((e,t)=>{let{children:s,className:a,...l}=e;return(0,u.jsx)("div",{ref:t,className:n()("modal-body",a),...l,children:s})}));A.defaultProps={className:null};const I=(0,a.forwardRef)(((e,t)=>{let{children:s,className:a,...l}=e;return(0,u.jsx)("div",{ref:t,className:n()("modal-footer",a),...l,children:s})}));I.defaultProps={className:null};const h=e=>{let{children:t,isOpen:s,setIsOpen:l,id:d,titleId:p,isStaticBackdrop:m,isScrollable:A,isCentered:I,size:h,fullScreen:O,isAnimation:C,...g}=e;const x=(0,a.useRef)(null),f=(0,a.useRef)(null);(0,a.useLayoutEffect)((()=>(s&&document.body.classList.add("modal-open"),()=>{document.body.classList.remove("modal-open")})));const R=e=>{!f.current||f.current.contains(e.target)||m||l(!1)};c("mousedown",R),c("touchstart",R);const D=e=>{f.current&&!f.current.contains(e.target)&&m&&(x.current.classList.add("modal-static"),setTimeout((()=>x.current.classList.remove("modal-static")),300))};c("mousedown",D),c("touchstart",D);c("keydown",(e=>{"Escape"===e.key&&l(!1)}));const j=C?{initial:{opacity:0,y:"-50%"},animate:{opacity:1,x:"0%",y:"0%"},exit:{opacity:0,y:"-50%"},transition:{ease:"easeInOut",duration:.3}}:null;return(0,u.jsx)(o.Z,{children:(0,u.jsx)(i.M,{exitBeforeEnter:!0,children:s&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(r.E.div,{ref:x,className:n()("modal",{fade:C},"show"),role:"dialog",style:{display:"block"},id:d,tabIndex:"-1","aria-labelledby":p,"aria-hidden":"true","data-bs-backdrop":m?"static":null,"data-bs-keyboard":m?"false":null,...j,...g,children:(0,u.jsx)("div",{ref:f,className:n()("modal-dialog",{"modal-dialog-scrollable":A,"modal-dialog-centered":I,[`modal-${h}`]:h,["modal-fullscreen"+("string"===typeof O?`-${O}-down`:"")]:O}),children:(0,u.jsx)("div",{className:"modal-content",children:t})})},"modal"),(0,u.jsx)("div",{className:n()("modal-backdrop",{fade:C},"show")})]})})})};h.defaultProps={id:null,titleId:null,isStaticBackdrop:!1,isScrollable:!1,isCentered:!1,size:null,fullScreen:!1,isAnimation:!0};const O=h},1950:(e,t,s)=>{s.r(t),s.d(t,{default:()=>I});var a=s(2791),l=s(6871),n=s(1006),i=s(840),r=s(5409),o=s(1595),d=s(1649),c=s(9757),u=s(9775),p=s(1477),m=s(2967),A=s(184);const I=()=>{const e=(0,l.s0)(),t=JSON.parse(localStorage.getItem("CAPP-local")),s=`Sala ${"Hemodinamica"===t.SUBLOCALIDADE?t.SUBLOCALIDADE:t.SUBLOCALIDADE.split(" ")[1]}`,[I,h]=(0,a.useState)([]),[O,C]=(0,a.useState)([]),[g,x]=(0,a.useState)(""),[f,R]=(0,a.useState)("");(0,a.useEffect)((()=>{!async function(){try{const s=(await m.Z.get(`/retornaEtapaPaciente/${t.CODIGO_SALA_CIRURGICA}`)).data[0],a=await m.Z.get(`/consultar-assinatura-preparo/${t.CODIGO_SALA_CIRURGICA}`);"LIMPEZA"===s.ETAPA&&e("/salaCirurgica/limpeza",{state:{MOTIVO_ALTA:s.CD_ETAPA,AVISO:s.CD_AVISO_CIRURGIA,SAIDA_SALA:!1}}),null!=a.data.INICIO_PREPARO&&null!=a.data.FIM_PREPARO?"SALA CIRURGICA"===s.ETAPA?e("/salaCirurgica/acoes"):e("/salaCirurgica/recebimento"):(await D(),await j())}catch(s){console.log(s)}}()}),[]);const D=async()=>{try{const e=await m.Z.get("/pergunta-sem-aviso/50");h(e.data)}catch(e){console.log(e)}},j=async()=>{try{const e=await m.Z.get(`/consultar-assinatura-preparo/${t.CODIGO_SALA_CIRURGICA}`);C(e.data),null!=e.data.INICIO_PREPARO&&document.getElementById("14").setAttribute("disabled","disabled"),null!=e.data.FIM_PREPARO&&document.getElementById("15").setAttribute("disabled","disabled")}catch(e){console.log(e)}};function E(e){const t=new Date(e);return`${t.getDate().toString().padStart(2,"0")}/${(t.getMonth()+1).toString().padStart(2,"0")}/${t.getFullYear().toString()} \xe0s ${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}h`}const[N,_]=(0,a.useState)(!1),[S,v]=(0,a.useState)(!1),[P,L]=(0,a.useState)(!1),[w,b]=(0,a.useState)(null);function y(e){if(b(e),14===e){if(g.length>0)return O.INICIO_PREPARO?new Date(O.INICIO_PREPARO).getTime()!==new Date(g.replace(/T/g," ")).getTime()&&(document.getElementById("14").click(),_(!0),!0):(_(!0),!0)}else if(15===e&&f.length>0)return O.FIM_PREPARO?new Date(O.FIM_PREPARO).getTime()!==new Date(f.replace(/T/g," ")).getTime()&&(document.getElementById("15").click(),_(!0),!0):O.INICIO_PREPARO?new Date(f).getTime()<new Date(O.INICIO_PREPARO).getTime()?(L(!0),!1):(_(!0),!0):(v(!0),!1);return!0}return(0,A.jsxs)(n.Z,{title:d.Q.SALA_CIRURGICA_LIMPEZA.text,children:[(0,A.jsx)(c.Z,{titulo:s,localidade:"Preparo e Limpeza",children:(0,A.jsxs)(u.ZP,{children:[(0,A.jsx)(u.Z_,{children:(0,A.jsx)(r.Z,{color:"light",icon:"menu",isLight:!0,children:(0,A.jsx)("p",{children:" "})})}),(0,A.jsx)(u.h_,{children:(0,A.jsx)(u.hP,{onClick:()=>(localStorage.removeItem("CAPP-local"),localStorage.removeItem("0"),void e("/")),children:"Alterar Local"})})]})}),(0,A.jsxs)(i.Z,{children:[(0,A.jsx)("div",{className:"row",children:(0,A.jsx)("div",{className:"container",style:{marginTop:"150px"},children:I.length>0?(0,A.jsx)(o.ZP,{borderSize:"3",borderColor:"success",style:{paddingLeft:"9px",margin:"auto"},children:(0,A.jsxs)("div",{className:"row",children:[(0,A.jsx)("div",{className:"col-sm-4 pull-right",style:{backgroundColor:"#C7EBE7",padding:"12px",borderRadius:"20px 0 0 20px",borderColor:"#37BBAA",borderSize:"2px"},children:(0,A.jsx)("div",{style:{padding:"70px 0",textAlign:"center",margin:"auto"},children:(0,A.jsx)("h1",{children:"Preparo"})})}),(0,A.jsx)("div",{className:"col-sm-8",style:{padding:"12px"},children:(0,A.jsx)("div",{className:"row",children:I.map(((s,a)=>(0,A.jsx)("div",{className:"col-sm-6 ",style:{margin:"auto",textAlign:"center"},children:(0,A.jsxs)("div",{className:"row ",children:[(0,A.jsx)("div",{className:"col-sm-12 pull-right",children:(0,A.jsx)(r.Z,{id:s.CD_PERGUNTA,onClick:()=>(async s=>{if(14===s){if(g.length>0)return void e("/salaCirurgica/Assinatura",{state:{CODIGO_LOCALIDADE:t.CODIGO_LOCALIDADE,CODIGO_SUB_LOCALIDADE:t.CODIGO_SUBLOCALIDADE,CODIGO_SALA_CIRURGICA:t.CODIGO_SALA_CIRURGICA,CODIGO_PERGUNTA:s,RESPOSTA_PERGUNTA:g}});if(!O.INICIO_PREPARO){const a=new Date;a.setMinutes(a.getMinutes()-a.getTimezoneOffset()),document.getElementById("data-inicio").value=a.toISOString().slice(0,16);const l=a.toISOString().slice(0,16);return void e("/salaCirurgica/Assinatura",{state:{CODIGO_LOCALIDADE:t.CODIGO_LOCALIDADE,CODIGO_SUB_LOCALIDADE:t.CODIGO_SUBLOCALIDADE,CODIGO_SALA_CIRURGICA:t.CODIGO_SALA_CIRURGICA,CODIGO_PERGUNTA:s,RESPOSTA_PERGUNTA:l}})}}if(15===s){if(f.length>0&&new Date(f).getTime()<new Date(O.INICIO_PREPARO).getTime())return void L(!0);if(!O.INICIO_PREPARO)return v(!0),void document.getElementById("14").focus();if(!O.FIM_PREPARO){const a=new Date;a.setMinutes(a.getMinutes()-a.getTimezoneOffset()),document.getElementById("data-inicio").value=a.toISOString().slice(0,16);const l=a.toISOString().slice(0,16);e("/salaCirurgica/Assinatura",{state:{CODIGO_LOCALIDADE:t.CODIGO_LOCALIDADE,CODIGO_SUB_LOCALIDADE:t.CODIGO_SUBLOCALIDADE,CODIGO_SALA_CIRURGICA:t.CODIGO_SALA_CIRURGICA,CODIGO_PERGUNTA:s,RESPOSTA_PERGUNTA:l}})}}return!0})(s.CD_PERGUNTA),style:{fontWeight:"700",fontSize:"21px",height:"129px",borderRadius:"37px"},color:"success",size:"large",children:s.DS_PERGUNTA})}),(0,A.jsx)("div",{className:"col-sm-12",style:{marginTop:"10px"},children:(0,A.jsx)("div",{children:0===a?(0,A.jsx)("input",{onBlur:()=>y(s.CD_PERGUNTA),style:{width:"190px",height:"50px",borderRadius:"20px",backgroundColor:"#37BBAA",textAlign:"center",margin:"auto",paddingTop:"1px",paddingLeft:"15px",fontWeight:"bold",fontSize:"18px",color:"white",border:"0px"},className:"input-time",onChange:e=>x(e.target.value),type:"datetime-local",id:"data-inicio",name:"date",defaultValue:O.INICIO_PREPARO}):(0,A.jsx)("input",{onBlur:()=>y(s.CD_PERGUNTA),style:{width:"190px",height:"50px",borderRadius:"20px",backgroundColor:"#37BBAA",textAlign:"center",margin:"auto",paddingTop:"1px",paddingLeft:"15px",fontWeight:"bold",fontSize:"18px",color:"white",border:"0px"},className:"input-time",onChange:e=>R(e.target.value),type:"datetime-local",id:"data-fim",name:"date",defaultValue:O.FIM_PREPARO})})}),(0,A.jsx)("div",{className:"col-sm-12",style:{marginTop:"10px"},children:(0,A.jsx)("div",{style:{fontSize:"17px",fontWeight:"bold"},children:0===a?null===O.CD_USUARIO_INICIO?(0,A.jsx)("span",{style:{color:"transparent"},children:"PENDENTE"}):O.CD_USUARIO_INICIO:null===O.CD_USUARIO_FIM?(0,A.jsx)("span",{style:{color:"transparent"},children:"PENDENTE"}):O.CD_USUARIO_FIM})})]})},s.CD_PERGUNTA)))})})]})}):(0,A.jsxs)("div",{className:"lds-ring",children:[(0,A.jsx)("div",{}),(0,A.jsx)("div",{}),(0,A.jsx)("div",{}),(0,A.jsx)("div",{})]})})}),(0,A.jsxs)(p.ZP,{id:"confirm",isAnimation:!1,isCentered:!0,isOpen:N,titleId:"confirm",children:[(0,A.jsx)(p.xB,{className:"modal-confir-data-warning",children:(0,A.jsx)(p.r6,{children:"CONFIRMA\xc7\xc3O"})}),(0,A.jsxs)(p.fe,{className:"ModalBody",children:[(0,A.jsx)("br",{}),(0,A.jsxs)("h3",{children:["Voc\xea confirma a altera\xe7\xe3o da data de ",14===w?"in\xedcio":"fim"," para:  ",(0,A.jsx)("strong",{children:E(14===w?g:f)}),"?"]}),(0,A.jsx)("br",{})]}),(0,A.jsx)(p.mz,{children:(0,A.jsxs)(r.h,{isToolbar:"true",size:"lg",children:[(0,A.jsx)(r.Z,{color:"success",onClick:()=>{_(!1),e("/salaCirurgica/Assinatura",{state:{CODIGO_LOCALIDADE:t.CODIGO_LOCALIDADE,CODIGO_SUB_LOCALIDADE:t.CODIGO_SUBLOCALIDADE,CODIGO_SALA_CIRURGICA:t.CODIGO_SALA_CIRURGICA,CODIGO_PERGUNTA:w,RESPOSTA_PERGUNTA:14===w?g:f}})},children:"CONFIRMAR"}),(0,A.jsx)(r.Z,{color:"light",onClick:()=>_(!1),children:"CANCELAR"})]})})]}),(0,A.jsxs)(p.ZP,{id:"alert",isCentered:!0,isAnimation:!1,isOpen:S,titleId:"alert",children:[(0,A.jsx)(p.xB,{className:"modal-confir-data-error",children:(0,A.jsx)(p.r6,{children:"ALERTA"})}),(0,A.jsx)(p.fe,{className:"ModalBody",children:(0,A.jsx)("h3",{children:"Voc\xea precisa informar a data de in\xedcio antes."})}),(0,A.jsx)(p.mz,{children:(0,A.jsx)(r.h,{isToolbar:"true",size:"lg",children:(0,A.jsx)(r.Z,{color:"light",onClick:()=>v(!1),children:"FECHAR"})})})]}),(0,A.jsxs)(p.ZP,{id:"validacao",isCentered:!0,isAnimation:!1,isOpen:P,titleId:"validacao",children:[(0,A.jsx)(p.xB,{className:"modal-confir-data-error",children:(0,A.jsx)(p.r6,{children:"ALERTA"})}),(0,A.jsx)(p.fe,{className:"ModalBody",children:(0,A.jsx)("h3",{children:"A data fim n\xe3o pode ser menor que a data de in\xedcio!"})}),(0,A.jsx)(p.mz,{children:(0,A.jsx)(r.h,{isToolbar:"true",size:"lg",children:(0,A.jsx)(r.Z,{color:"light",onClick:()=>L(!1),children:"FECHAR"})})})]})]})]})}}}]);
//# sourceMappingURL=950.0d0a3e1e.chunk.js.map