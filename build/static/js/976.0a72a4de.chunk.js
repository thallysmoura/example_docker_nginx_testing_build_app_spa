"use strict";(self.webpackChunkapp_cc=self.webpackChunkapp_cc||[]).push([[976],{2967:(e,l,s)=>{s.d(l,{Z:()=>o,h:()=>i});var a=s(4569),n=s.n(a);const t="https://appcc-api.apps.ham.org.br",r=n().create({baseURL:`${t}`,headers:{"Content-Type":"application/json"}}),i=n().create({baseURL:`${t}`,headers:{"Content-Type":"application/json"}}),o=r},5071:(e,l,s)=>{s.d(l,{Z:()=>x});var a=s(2791),n=s(97),t=s.n(n),r=s(2967),i=s(5409),o=s(840),d=s(1595),c=s(7485),u=s(184);const p=e=>{let{childToParent:l}=e;return(0,u.jsx)("div",{className:"div_vk_bg",children:(0,u.jsx)("table",{className:"tb_vk",children:(0,u.jsxs)("tbody",{children:[(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:(0,u.jsx)(i.Z,{className:"btn_vk",color:"dark",onClick:()=>l("1"),children:"\xa01"})}),(0,u.jsx)("td",{children:(0,u.jsx)(i.Z,{className:"btn_vk",color:"dark",onClick:()=>l("2"),children:"2"})}),(0,u.jsx)("td",{children:(0,u.jsx)(i.Z,{className:"btn_vk",color:"dark",onClick:()=>l("3"),children:"3"})})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:(0,u.jsx)(i.Z,{className:"btn_vk",color:"dark",onClick:()=>l("4"),children:"4"})}),(0,u.jsx)("td",{children:(0,u.jsx)(i.Z,{className:"btn_vk",color:"dark",onClick:()=>l("5"),children:"5"})}),(0,u.jsx)("td",{children:(0,u.jsx)(i.Z,{className:"btn_vk",color:"dark",onClick:()=>l("6"),children:"6"})})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:(0,u.jsx)(i.Z,{className:"btn_vk",color:"dark",onClick:()=>l("7"),children:"7"})}),(0,u.jsx)("td",{children:(0,u.jsx)(i.Z,{className:"btn_vk",color:"dark",onClick:()=>l("8"),children:"8"})}),(0,u.jsx)("td",{children:(0,u.jsx)(i.Z,{className:"btn_vk",color:"dark",onClick:()=>l("9"),children:"9"})})]}),(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:(0,u.jsx)(i.Z,{className:"btn_vk",color:"danger",onClick:()=>l("zerar"),children:"X"})}),(0,u.jsx)("td",{children:(0,u.jsx)(i.Z,{className:"btn_vk",color:"dark",onClick:()=>l("0"),children:"0"})}),(0,u.jsx)("td",{children:(0,u.jsx)(i.Z,{className:"btn_vk",color:"brand",onClick:()=>l("apagar"),children:"<"})})]})]})})})};var m=s(1477),h=s(4455);const x=e=>{let{location:l,codigoUsuario:s,voltar:n}=e;const x=(0,a.useRef)(null),v=(0,a.useRef)(null),[f]=(0,a.useState)([]),[j,b]=(0,a.useState)(!1),[k,N]=(0,a.useState)(!1),[g,O]=(0,a.useState)(!1),C=async(e,l,s,a,n)=>{let t;try{t=(await r.Z.post("/salvarHistoricoAutenticacao",{aviso:e,badge:s,filename:n,autenticado:a,etapa:l})).data}catch(i){console.log(i)}return t},A=async(e,l,s,a,n,t,i)=>{let o;try{o=(await r.Z.post("/uploadImage",{autenticado:i,image:e,badge:l,filename:t,user:s,etapa:n,aviso:a})).data}catch(d){console.log(d)}return o},y=async(e,a)=>{if(!(v.current.value.length<4)){O(!0);try{const n=(await r.Z.get(`/retornaCodUsuario?codchapa=${v.current.value}`)).data[0];if(!n)return O(!1),void b(!0);const t=n.CD_USUARIO,i=await r.h.post("/rekognition/face",{imageSource:e,internCode:1,keyName:a,option:"compare",PAPEL_ACAO:156}),{COD_AVISO:o}=l.state.DADOS;if(!1===i.data[0].resposta||i.data[0].user!==t)return O(!1),b(!0),await C(l.state.DADOS.COD_AVISO,l.state.DADOS.PROX_ETAPA,a,"N",`${a}_${t}_${l.state.DADOS.COD_AVISO}_${l.state.DADOS.PROX_ETAPA}`),void await A(e,a,t,l.state.DADOS.COD_AVISO,l.state.DADOS.PROX_ETAPA,`${a}_${t}_${l.state.DADOS.COD_AVISO}_${l.state.DADOS.PROX_ETAPA}`,"N");O(!1),N(!0),await C(o,l.state.CODIGO_SALA_CIRURGICA,a,"S",`${a}_${t}_${o}_${l.state.CODIGO_SALA_CIRURGICA}`),await A(e,a,t,l.state.CODIGO_SALA_CIRURGICA,null,`${a}_${t}_${l.state.CODIGO_SALA_CIRURGICA}_${l.state.CODIGO_SALA_CIRURGICA}`,"S"),s(t)}catch(n){console.log(n)}}};return(0,u.jsxs)(o.Z,{children:[f.DADOS&&(0,u.jsx)(d.ZP,{className:"bloco-completo-2",children:(0,u.jsxs)(d.eW,{children:[(0,u.jsx)("h2",{children:"Paciente"}),(0,u.jsx)("h1",{children:f.DADOS.DADOS.PACIENTE})]})}),(0,u.jsx)("div",{className:"webcam-area",children:(0,u.jsx)(t(),{ref:x,audio:!1,height:373,screenshotFormat:"image/jpeg",width:228,videoConstraints:{width:540,height:880,facingMode:"user"}})}),(0,u.jsxs)("div",{className:"info-cracha",children:[(0,u.jsxs)("h1",{children:["C\xf3digo",(0,u.jsx)("br",{}),"do Crach\xe1"]}),(0,u.jsx)(c.Z,{type:"number",disabled:!0,className:"input-cracha",ref:v})]}),(0,u.jsx)("div",{className:"teclado-position",children:(0,u.jsx)(p,{childToParent:e=>{const l=e;if("apagar"===l){const e=v.current.value.substring(0,v.current.value.length-1);v.current.value=e}else"zerar"===l?v.current.value="":v.current.value+=l}})}),(0,u.jsx)(i.Z,{className:"btn-assinar",color:"success",icon:"user",onClick:()=>{const e=x.current.getScreenshot().replace("data:image/jpeg;base64,",""),l=y(e,v.current.value);console.log(`isSurgeryUser:${JSON.stringify(l)}`)},children:"Assinar"}),(0,u.jsxs)(m.ZP,{id:"example-modal",isOpen:j,titleId:"example-title",children:[(0,u.jsx)(m.xB,{className:"modal-header-error",children:(0,u.jsx)(m.r6,{id:"example-title",children:"AVISO"})}),(0,u.jsxs)(m.fe,{className:"ModalBody",children:[(0,u.jsxs)("h1",{children:["Usu\xe1rio n\xe3o encontrado",(0,u.jsx)("br",{})]}),"Por favor, tente novamente."]}),(0,u.jsx)(m.mz,{children:(0,u.jsx)(i.h,{isToolbar:"true",size:"lg",children:(0,u.jsx)(i.Z,{color:"light",onClick:()=>{b(!1)},children:"FECHAR"})})})]}),(0,u.jsxs)(m.ZP,{id:"sucess-modal",isOpen:k,titleId:"example-titlea",children:[(0,u.jsx)(m.xB,{style:{backgroundColor:"#37BBAA",color:"#fff"},children:(0,u.jsx)(m.r6,{id:"example-title",children:"AVISO"})}),(0,u.jsxs)(m.fe,{className:"ModalBody",children:[(0,u.jsx)("h1",{children:"ASSINADO COM SUCESSO!"}),(0,u.jsx)("br",{}),(0,u.jsx)("br",{})]})]}),(0,u.jsxs)(m.ZP,{id:"loading",isOpen:g,titleId:"loading",children:[(0,u.jsx)(m.xB,{style:{backgroundColor:"#636363",color:"#fff"},children:(0,u.jsx)(m.r6,{id:"example-title",children:"ASSINANDO..."})}),(0,u.jsxs)(m.fe,{className:"ModalBody",children:[(0,u.jsx)("br",{}),(0,u.jsx)("h1",{children:"ASSINANDO...POR FAVOR, AGUARDE..."}),(0,u.jsx)("br",{}),(0,u.jsx)("br",{})]})]}),(0,u.jsx)("div",{className:"btn-back-conf",children:(0,u.jsx)(h.Z,{onClick:()=>n(),icon:"reply",color:"#fff",size:"6x",forceFamily:"material"})})]})}},9757:(e,l,s)=>{s.d(l,{Z:()=>n});s(2791);var a=s(184);const n=e=>{let{titulo:l,children:s,localidade:n}=e;return(0,a.jsxs)("header",{children:[(0,a.jsxs)("p",{children:[(0,a.jsxs)("strong",{children:[l," |"]})," ",n]}),(0,a.jsx)("div",{className:"options",children:s})]})}},9775:(e,l,s)=>{s.d(l,{ZP:()=>f,Z_:()=>p,hP:()=>x,h_:()=>m});var a=s(2791),n=s(3229),t=s(2835),r=s(1828),i=s(1694),o=s.n(i),d=s(1245),c=s(6457),u=s(184);const p=e=>{let{children:l,isOpen:s,setIsOpen:t,hasIcon:r}=e;const i=(0,a.useRef)(null),d=(0,a.useCallback)(((e,l)=>(i.current=e,l(e))),[]);return(0,u.jsx)(n.s,{children:e=>{var n;let{ref:i}=e;return a.cloneElement(l.props.isButtonGroup?(0,u.jsx)("span",{className:"visually-hidden",children:"Toggle Dropdown"}):l,{ref:e=>d(e,i),onClick:()=>{var e;null!==l&&void 0!==l&&null!==(e=l.props)&&void 0!==e&&e.onClick&&l.props.onClick(),t(!s)},className:o()({"dropdown-toggle":r,"dropdown-toggle-split":l.props.isButtonGroup,show:s},null===l||void 0===l||null===(n=l.props)||void 0===n?void 0:n.className),"aria-expanded":s})}})};p.defaultProps={isOpen:!1,setIsOpen:null,hasIcon:!0},p.displayName="DropdownToggle";const m=e=>{let{isOpen:l,setIsOpen:s,children:n,className:r,isAlignmentEnd:i,breakpoint:d,size:p,direction:m,isCloseAfterLeave:h,...x}=e;const v=(0,a.useRef)(null),f=(0,a.useCallback)(((e,l)=>(v.current=e,l(e))),[]),j=("up"===m?"top":"end"===m&&"right")||"start"===m&&"left"||"bottom",b=i?"end":"start",{darkModeStatus:k}=(0,c.Z)();return l?(0,u.jsx)(t.r,{placement:d?"bottom-start":`${j}-${b}`,modifiers:[{name:"flip",options:{fallbackPlacements:[`top-${b}`,`bottom-${b}`]}}],children:e=>{let{ref:l,style:a,placement:t}=e;return(0,u.jsx)("ul",{role:"presentation",ref:e=>f(e,l),style:d?null:a,"data-placement":t,className:o()("dropdown-menu","show",{"dropdown-menu-dark":k},{[`dropdown-menu-${p}`]:p,"dropdown-menu-end":!i&&d,[`dropdown-menu${d?`-${d}`:""}-${i?"end":"start"}`]:i||d},r),"data-bs-popper":d?"static":null,onMouseLeave:h?()=>s(!1):null,...x,children:n})}}):null};m.defaultProps={isOpen:!1,setIsOpen:null,className:null,isAlignmentEnd:!1,breakpoint:null,size:null,direction:null,isCloseAfterLeave:!0},m.displayName="DropdownMenu";const h=(0,a.forwardRef)(((e,l)=>{let{children:s,className:a,...n}=e;return(0,u.jsx)("li",{ref:l,className:o()("dropdown-item-wrapper",a),...n,children:s})}));h.defaultProps={className:null};const x=(0,a.forwardRef)(((e,l)=>{var s;let{children:n,isHeader:t,isDivider:r,isText:i,...d}=e;var c,p,m;return t?(0,u.jsx)(h,{ref:l,...d,children:(0,a.cloneElement)("string"===typeof n?(0,u.jsx)("h6",{children:n}):n,{className:o()("dropdown-header",null===n||void 0===n||null===(c=n.props)||void 0===c?void 0:c.className)})}):r?(0,u.jsx)(h,{ref:l,...d,children:(0,u.jsx)("hr",{className:o()("dropdown-divider",null===n||void 0===n||null===(p=n.props)||void 0===p?void 0:p.className)})}):i?(0,u.jsx)(h,{ref:l,...d,children:(0,a.cloneElement)("string"===typeof n?(0,u.jsx)("div",{children:n}):n,{className:o()("dropdown-item-text","dropdown-item","disabled",null===n||void 0===n||null===(m=n.props)||void 0===m?void 0:m.className)})}):(0,u.jsx)(h,{ref:l,...d,children:(0,a.cloneElement)("string"===typeof n?(0,u.jsx)("span",{children:n}):n,{className:o()("dropdown-item",null===n||void 0===n||null===(s=n.props)||void 0===s?void 0:s.className)})})}));x.defaultProps={children:null,isHeader:!1,isDivider:!1,isText:!1};const v=e=>{let{tag:l,children:s,isOpen:n,setIsOpen:t,direction:i,isButtonGroup:c,className:p}=e;const[m,h]=(0,a.useState)(!(null===n||!t)&&n),x=(0,a.useRef)(null),v=(0,a.useCallback)((()=>{null!==n&&t?t(!1):h(!1)}),[n,t]);return(0,d.Z)(x,"mousedown",v),(0,d.Z)(x,"touchstart",v),(0,u.jsx)(r.dK,{children:(0,u.jsx)(l,{ref:x,className:o()({[`drop${i}`]:i&&!c,"btn-group":c},p),children:s.map(((e,l)=>["DropdownMenu","DropdownToggle"].includes(e.type.displayName)?a.cloneElement(e,{isOpen:null!==n&&t?n:m,setIsOpen:null!==n&&t?t:h,direction:i,key:l}):e))})})};v.defaultProps={tag:"div",isOpen:null,setIsOpen:null,className:null,direction:"down",isButtonGroup:!1},v.displayName="Dropdown";const f=v},1477:(e,l,s)=>{s.d(l,{fe:()=>h,mz:()=>x,xB:()=>m,r6:()=>p,ZP:()=>f});var a=s(2791),n=s(1694),t=s.n(n),r=s(1856),i=s(68),o=s(7528),d=s(7097);function c(e,l){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;const n=(0,a.useRef)();(0,a.useEffect)((()=>{n.current=l}),[l]),(0,a.useEffect)((()=>{if(!(s&&s.addEventListener))return;const l=e=>n.current(e);return s.addEventListener(e,l),()=>{s.removeEventListener(e,l)}}),[e,s])}var u=s(184);const p=(0,a.forwardRef)(((e,l)=>{let{tag:s,id:a,children:n,className:r,...i}=e;return(0,u.jsx)(d.Z,{tag:s,ref:l,id:a,className:t()("modal-title",r),...i,children:n})}));p.defaultProps={className:null,tag:"h5"};const m=(0,a.forwardRef)(((e,l)=>{let{children:s,className:a,setIsOpen:n,...r}=e;return(0,u.jsxs)("div",{ref:l,className:t()("modal-header",a),...r,children:[s,n&&(0,u.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>n(!1)})]})}));m.defaultProps={className:null,setIsOpen:null};const h=(0,a.forwardRef)(((e,l)=>{let{children:s,className:a,...n}=e;return(0,u.jsx)("div",{ref:l,className:t()("modal-body",a),...n,children:s})}));h.defaultProps={className:null};const x=(0,a.forwardRef)(((e,l)=>{let{children:s,className:a,...n}=e;return(0,u.jsx)("div",{ref:l,className:t()("modal-footer",a),...n,children:s})}));x.defaultProps={className:null};const v=e=>{let{children:l,isOpen:s,setIsOpen:n,id:d,titleId:p,isStaticBackdrop:m,isScrollable:h,isCentered:x,size:v,fullScreen:f,isAnimation:j,...b}=e;const k=(0,a.useRef)(null),N=(0,a.useRef)(null);(0,a.useLayoutEffect)((()=>(s&&document.body.classList.add("modal-open"),()=>{document.body.classList.remove("modal-open")})));const g=e=>{!N.current||N.current.contains(e.target)||m||n(!1)};c("mousedown",g),c("touchstart",g);const O=e=>{N.current&&!N.current.contains(e.target)&&m&&(k.current.classList.add("modal-static"),setTimeout((()=>k.current.classList.remove("modal-static")),300))};c("mousedown",O),c("touchstart",O);c("keydown",(e=>{"Escape"===e.key&&n(!1)}));const C=j?{initial:{opacity:0,y:"-50%"},animate:{opacity:1,x:"0%",y:"0%"},exit:{opacity:0,y:"-50%"},transition:{ease:"easeInOut",duration:.3}}:null;return(0,u.jsx)(o.Z,{children:(0,u.jsx)(r.M,{exitBeforeEnter:!0,children:s&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(i.E.div,{ref:k,className:t()("modal",{fade:j},"show"),role:"dialog",style:{display:"block"},id:d,tabIndex:"-1","aria-labelledby":p,"aria-hidden":"true","data-bs-backdrop":m?"static":null,"data-bs-keyboard":m?"false":null,...C,...b,children:(0,u.jsx)("div",{ref:N,className:t()("modal-dialog",{"modal-dialog-scrollable":h,"modal-dialog-centered":x,[`modal-${v}`]:v,["modal-fullscreen"+("string"===typeof f?`-${f}-down`:"")]:f}),children:(0,u.jsx)("div",{className:"modal-content",children:l})})},"modal"),(0,u.jsx)("div",{className:t()("modal-backdrop",{fade:j},"show")})]})})})};v.defaultProps={id:null,titleId:null,isStaticBackdrop:!1,isScrollable:!1,isCentered:!1,size:null,fullScreen:!1,isAnimation:!0};const f=v},7485:(e,l,s)=>{s.d(l,{Z:()=>h});var a=s(2791),n=s(948),t=s(8313),r=s.n(t),i=s(1694),o=s.n(i),d=s(7528),c=s(184);const u=e=>{let{isTouched:l,invalidFeedback:s,validFeedback:n,isTooltip:t}=e;const r=(0,a.useRef)(null);return(0,a.useEffect)((()=>{if(t)for(let n=0;n<(null===r||void 0===r||null===(e=r.current)||void 0===e?void 0:e.parentNode.classList.length);n+=1){var e,l,s,a;if(["input-group"].includes(null===r||void 0===r||null===(l=r.current)||void 0===l?void 0:l.parentNode.classList[n]))null===r||void 0===r||null===(s=r.current)||void 0===s||s.parentNode.parentNode.classList.add("position-relative");else null===r||void 0===r||null===(a=r.current)||void 0===a||a.parentNode.classList.add("position-relative")}})),l&&s?(0,c.jsx)("div",{ref:r,className:o()({"invalid-feedback":!t,"invalid-tooltip":t}),children:s}):!s&&n&&(0,c.jsx)("div",{ref:r,className:o()({"valid-feedback":!t,"valid-tooltip":t}),children:n})};u.defaultProps={isTouched:!1,invalidFeedback:null,validFeedback:null,isTooltip:!1};const p=u,m=(0,a.forwardRef)(((e,l)=>{let{type:s,id:a,name:t,className:i,required:u,placeholder:m,autoComplete:h,ariaDescribedby:x,ariaLabelledby:v,ariaLabel:f,list:j,title:b,size:k,disabled:N,readOnly:g,multiple:O,value:C,min:A,max:y,step:I,isValid:S,isTouched:w,invalidFeedback:_,validFeedback:D,isValidMessage:Z,isTooltipFeedback:R,onBlur:P,onChange:$,onFocus:E,onInput:L,onInvalid:T,onSelect:F,component:B,mask:G,format:U,...M}=e;const z={id:a,name:null===t?a:t,type:j?null:s,className:o()({"form-control":"plaintext"!==g&&"range"!==s,"form-range":"range"===s,"form-control-plaintext":"plaintext"===g,"form-control-color":"color"===s,[`form-control-${k}`]:k,"is-invalid":!S&&w&&_,"is-valid":!S&&w&&!_},i),required:u,placeholder:m,title:b,list:j?`${a}-list`:null,disabled:N,readOnly:!!g,multiple:O,autoComplete:h,"aria-describedby":x,"aria-label":f,"aria-labelledby":v,value:C,min:A,max:y,step:I,onBlur:P,onChange:g?null:$,onFocus:E,onInput:L,onInvalid:T,onSelect:F,...M},V={mask:G,format:U,onBlur:()=>P,onChange:g?null:()=>$,onFocus:()=>E,onInput:()=>L,onInvalid:()=>T,onSelect:()=>F},X={mask:G},H=j&&(0,c.jsx)(d.Z,{children:(0,c.jsx)("datalist",{id:`${a}-list`,children:j.map((e=>(0,c.jsx)("option",{"aria-labelledby":e,value:e},e)))})}),q=Z&&(0,c.jsx)(p,{isTouched:w,invalidFeedback:_,validFeedback:D,isTooltip:R});return"NumberFormat"===B||U?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.Z,{ref:l,...z,...V}),H,q]}):"InputMask"===B||G?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(r(),{ref:l,...z,...X}),H,q]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("input",{ref:l,...z}),H,q]})}));m.defaultProps={component:null,type:"text",id:null,name:null,size:null,className:null,required:!1,placeholder:null,title:null,list:null,autoComplete:null,disabled:!1,multiple:!1,readOnly:!1,ariaDescribedby:null,ariaLabelledby:null,ariaLabel:null,value:void 0,min:null,max:null,step:null,isTouched:!1,isValid:!1,invalidFeedback:null,validFeedback:null,isValidMessage:!0,isTooltipFeedback:!1,onBlur:null,onChange:null,onFocus:null,onInput:null,onInvalid:null,onSelect:null,mask:null,format:null};const h=m}}]);
//# sourceMappingURL=976.0a72a4de.chunk.js.map